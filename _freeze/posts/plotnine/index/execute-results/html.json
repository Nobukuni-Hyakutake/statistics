{
  "hash": "4100a342cc6bab5a36aed7e08e721856",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"plotnine\"\nauthor: \"Nobukuni Hyakutake\"\ndate: \"2025-04-27\"\ndate-format: \"iso\"\ncategories: [Python]\nimage: \"field_mustard.jpeg\"\n---\n\n\n![](field_mustard.jpeg)\n\n## ヒストグラム\n\n\n::: {.cell}\n\n```{.python .cell-code}\nfrom plotnine import *\nfrom palmerpenguins import load_penguins\nimport math\n\npenguins = load_penguins()\npenguins\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       species     island  bill_length_mm  ...  body_mass_g     sex  year\n0       Adelie  Torgersen            39.1  ...       3750.0    male  2007\n1       Adelie  Torgersen            39.5  ...       3800.0  female  2007\n2       Adelie  Torgersen            40.3  ...       3250.0  female  2007\n3       Adelie  Torgersen             NaN  ...          NaN     NaN  2007\n4       Adelie  Torgersen            36.7  ...       3450.0  female  2007\n..         ...        ...             ...  ...          ...     ...   ...\n339  Chinstrap      Dream            55.8  ...       4000.0    male  2009\n340  Chinstrap      Dream            43.5  ...       3400.0  female  2009\n341  Chinstrap      Dream            49.6  ...       3775.0    male  2009\n342  Chinstrap      Dream            50.8  ...       4100.0    male  2009\n343  Chinstrap      Dream            50.2  ...       3775.0  female  2009\n\n[344 rows x 8 columns]\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.python .cell-code}\npenguins_adelie=penguins.dropna(subset=\"bill_length_mm\").loc[penguins[\"species\"]==\"Adelie\"]\npenguins_adelie\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    species     island  bill_length_mm  ...  body_mass_g     sex  year\n0    Adelie  Torgersen            39.1  ...       3750.0    male  2007\n1    Adelie  Torgersen            39.5  ...       3800.0  female  2007\n2    Adelie  Torgersen            40.3  ...       3250.0  female  2007\n4    Adelie  Torgersen            36.7  ...       3450.0  female  2007\n5    Adelie  Torgersen            39.3  ...       3650.0    male  2007\n..      ...        ...             ...  ...          ...     ...   ...\n147  Adelie      Dream            36.6  ...       3475.0  female  2009\n148  Adelie      Dream            36.0  ...       3450.0  female  2009\n149  Adelie      Dream            37.8  ...       3750.0    male  2009\n150  Adelie      Dream            36.0  ...       3700.0  female  2009\n151  Adelie      Dream            41.5  ...       4000.0    male  2009\n\n[151 rows x 8 columns]\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.python .cell-code}\ng=(\n  ggplot(penguins_adelie,aes(x=\"bill_length_mm\"))\n  +geom_histogram(binwidth=2.5)\n)\ng.save(\"histogram.png\",width=100,height=100*2/(1+math.sqrt(5)),units=\"mm\")\n```\n:::\n\n![](histogram.png)\n\n## Rの場合\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n\npenguins_adelie<-penguins |> \n  filter(species==\"Adelie\",!is.na(bill_length_mm))\npenguins_adelie\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 151 × 8\n   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n   <fct>   <fct>              <dbl>         <dbl>             <int>       <int>\n 1 Adelie  Torgersen           39.1          18.7               181        3750\n 2 Adelie  Torgersen           39.5          17.4               186        3800\n 3 Adelie  Torgersen           40.3          18                 195        3250\n 4 Adelie  Torgersen           36.7          19.3               193        3450\n 5 Adelie  Torgersen           39.3          20.6               190        3650\n 6 Adelie  Torgersen           38.9          17.8               181        3625\n 7 Adelie  Torgersen           39.2          19.6               195        4675\n 8 Adelie  Torgersen           34.1          18.1               193        3475\n 9 Adelie  Torgersen           42            20.2               190        4250\n10 Adelie  Torgersen           37.8          17.1               186        3300\n# ℹ 141 more rows\n# ℹ 2 more variables: sex <fct>, year <int>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(penguins_adelie,aes(bill_length_mm))+\n  geom_histogram(binwidth = 2.5)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n## 参考文献\n\n- [\n\n## Python version\n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport platform\n\"Python version \"+platform.python_version()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'Python version 3.12.3'\n```\n\n\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}