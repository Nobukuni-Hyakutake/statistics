[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Top",
    "section": "",
    "text": "右側のCategoriesをクリックすると、該当する記事に絞られます。\nFilterに文字を入力すると、その文字を含む記事に絞られます。\n\n\n\n\n\n\n\n\n\n   \n     \n     \n       Order By\n       Default\n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n         \n          Title\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n\n\n\n\nDate\n\n\nTitle\n\n\nCategories\n\n\n\n\n\n\n\n \n\n\n\n2023-02-13\n\n\n生存分析\n\n\nR\n\n\n\n\n\n\n\n2023-02-10\n\n\n統計学基礎\n\n\nSTATISTICS\n\n\n\n\n\n\n\n2023-01-30\n\n\nRを電卓として使う\n\n\nR\n\n\n\n\n\n\n\n2023-01-27\n\n\nPythonを電卓として使う\n\n\nPython\n\n\n\n\n\n\n\n2023-01-25\n\n\nコード入りの投稿サンプル\n\n\nnews,code,analysis,R,Python\n\n\n\n\n\n\n\n2023-01-20\n\n\nようこそ\n\n\nnews\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/post-with-code/index.html",
    "href": "posts/post-with-code/index.html",
    "title": "コード入りの投稿サンプル",
    "section": "",
    "text": "This is a post with executable code."
  },
  {
    "objectID": "posts/welcome/index.html",
    "href": "posts/welcome/index.html",
    "title": "ようこそ",
    "section": "",
    "text": "This is the first post in a Quarto blog. Welcome!\n\nSince this post doesn’t specify an explicit image, the first image in the post will be used in the listing page of posts."
  },
  {
    "objectID": "for_reform/statistics_01.html",
    "href": "for_reform/statistics_01.html",
    "title": "Statistics",
    "section": "",
    "text": "\\(\\displaystyle\\sum^{n}_{i=1}(x_i-\\overline{x})^2\\)\n\ndaa01<-c(5,6,3,4,3,4,5,4)\nsum(\n  (daa01-mean(daa01))^2\n  )\n\n[1] 7.5"
  },
  {
    "objectID": "for_reform/statistics_01.html#分散-標本分散",
    "href": "for_reform/statistics_01.html#分散-標本分散",
    "title": "Statistics",
    "section": "分散 (標本分散)",
    "text": "分散 (標本分散)\n\\(s^2=\\frac {\\displaystyle\\sum^{n}_{i=1}(x_i-\\overline{x})^2} {n}\\)\n\nsum(\n  (daa01-mean(daa01))^2\n  )/\n  length(daa01)\n\n[1] 0.9375\n\n\nor\n\nvar(daa01)*(length(daa01)-1)/length(daa01)\n\n[1] 0.9375"
  },
  {
    "objectID": "for_reform/statistics_01.html#標準偏差標本分散の平方根",
    "href": "for_reform/statistics_01.html#標準偏差標本分散の平方根",
    "title": "Statistics",
    "section": "標準偏差(標本分散の平方根)",
    "text": "標準偏差(標本分散の平方根)\n\\(s=\\sqrt{\\frac {\\displaystyle\\sum^{n}_{i=1}(x_i-\\overline{x})^2} {n}}\\)\n\nsqrt(\n  var(daa01)*(length(daa01)-1)/length(daa01)\n  )\n\n[1] 0.9682458\n\n\nor\n\nsd(daa01)*\n  sqrt(\n  (length(daa01)-1)/length(daa01)\n)\n\n[1] 0.9682458"
  },
  {
    "objectID": "for_reform/statistics_01.html#変動係数",
    "href": "for_reform/statistics_01.html#変動係数",
    "title": "Statistics",
    "section": "変動係数",
    "text": "変動係数\n\\(C.V.=\\frac {s} {\\overline{x}}\\)\n\nsd(daa01)*\n  sqrt(\n  (length(daa01)-1)/length(daa01)\n)/\n  mean(daa01)\n\n[1] 0.2278225"
  },
  {
    "objectID": "for_reform/statistics_01.html#相関係数",
    "href": "for_reform/statistics_01.html#相関係数",
    "title": "Statistics",
    "section": "相関係数",
    "text": "相関係数\n\\(r=\\frac {\\displaystyle\\sum^{n}_{i=1}(x_i-\\overline{x}) (y_i-\\overline{y})} {\\sqrt{ {\\displaystyle\\sum^{n}_{i=1}(x_i-\\overline{x})^2}} \\sqrt{ {\\displaystyle\\sum^{n}_{i=1}(y_i-\\overline{y})^2}}}\\)\n\ndaa02<-c(7,8,3,5,4,3,8,6)\ncor(daa01,daa02,method=\"pearson\")\n\n[1] 0.8666667\n\n\n\nplot(daa01,daa02)"
  },
  {
    "objectID": "for_reform/index.html",
    "href": "for_reform/index.html",
    "title": "Index",
    "section": "",
    "text": "Statistics Blog"
  },
  {
    "objectID": "for_reform/trial_01.html",
    "href": "for_reform/trial_01.html",
    "title": "trial_01",
    "section": "",
    "text": "\\[\na^2 + b^2 = c^2\n\\]"
  },
  {
    "objectID": "for_reform/trial_01.html#equation2",
    "href": "for_reform/trial_01.html#equation2",
    "title": "trial_01",
    "section": "Equation2",
    "text": "Equation2\n\\[\n\\sqrt{\\sum_{i = 1}^{n}{(\\bar{x} - x_i)^2}}\n\\]"
  },
  {
    "objectID": "for_reform/question_math.html",
    "href": "for_reform/question_math.html",
    "title": "blog",
    "section": "",
    "text": "数式の表示がおかしい\n\nそれぞれのバージョンを書く\n\nRStudio\nMac\nR\nChrome\nSafari"
  },
  {
    "objectID": "for_reform/memo.html",
    "href": "for_reform/memo.html",
    "title": "blog",
    "section": "",
    "text": "Markdownに数式を挿入する方法\nLaTeX/Mathematics"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "このサイトについて",
    "section": "",
    "text": "About this blog\nこのサイトは統計学の勉強のノートです。"
  },
  {
    "objectID": "posts/post-with-code/index.html#r-1",
    "href": "posts/post-with-code/index.html#r-1",
    "title": "コード入りの投稿サンプル",
    "section": "R-1",
    "text": "R-1\n\nlibrary(reticulate)\na<-runif(3)\na<-round(a,2)\nprint(a)\n\n[1] 0.79 0.63 0.09\n\nb<-\"Hello, \""
  },
  {
    "objectID": "posts/post-with-code/index.html#python",
    "href": "posts/post-with-code/index.html#python",
    "title": "コード入りの投稿サンプル",
    "section": "Python",
    "text": "Python\n\nimport numpy as np\nc=\"World!\"\nd=r.b+c\nprint(d)\n\nHello, World!\n\ne=np.sin(1.5)*12"
  },
  {
    "objectID": "posts/post-with-code/index.html#r-2",
    "href": "posts/post-with-code/index.html#r-2",
    "title": "コード入りの投稿サンプル",
    "section": "R-2",
    "text": "R-2\n\nf<-py$e/3\nprint(f)\n\n[1] 3.98998"
  },
  {
    "objectID": "memo.html",
    "href": "memo.html",
    "title": "統計学の勉強ノート",
    "section": "",
    "text": "Rによるやさしい統計学 (Kindle) ## docsフォルダにRenderしたいとき\n\n_quarto.yamlに下記の通り設定する\nRender to docs\n\n\n\nhttps://www.r-bloggers.com/2023/01/combining-r-and-python-with-reticulate-and-quarto/\n\n\n\n投稿の仕方の参考になりそう。\nhttps://mine-cetinkaya-rundel.github.io/quarto-tip-a-day/\n\n\n\nMarkdownに数式を挿入する方法\nLaTeX/Mathematics\nMathematics in R Markdown\n\n\n\nlibrary(rmarkdown)\nrmarkdown::render(\"statistics_01.Rmd\",output_format = \"html_document\")\nrmarkdown::render(\"statistics_01.Rmd\",output_format = \"md_document\")\n\n\n\n下記に記載(Private repository)\nhttps://github.com/Nobukuni-Hyakutake/hon/blob/main/quarto/memo.md\n\n\n\n_quarto.ymlに下記を加えると右側にページ内の目次がでる。\nformat:\n  html:\n    toc: true\n\n\n\nquarto render index.qmd --to docx  \n\n\n\n下記のHelpのように、クリックするとさらに選択肢が出てくるようにする\n\n  navbar:\n    background: light\n    logo: quarto.png\n    logo-alt: \"Quarto logo.\"\n    title: false\n    collapse-below: lg\n    left:\n      - text: \"Overview\"\n        href: index.qmd\n      - text: \"Get Started\"\n        href: docs/get-started/index.qmd\n      - text: \"Guide\"\n        href: docs/guide/index.qmd\n      - text: Extensions\n        href: docs/extensions/index.qmd\n      - text: \"Reference\"\n        href: docs/reference/index.qmd\n      - text: \"Gallery\"\n        href: docs/gallery/index.qmd\n      - text: \"Blog\"\n        href: docs/blog/index.qmd\n      - text: \"Help\"\n        menu:\n          - text: \"Report a Bug\"\n            icon: \"bug\"\n            href: \"https://github.com/quarto-dev/quarto-cli/issues\"\n          - text: \"Ask a Question\"\n            icon: \"chat-right-text\"\n            href: \"https://github.com/quarto-dev/quarto-cli/discussions\"\n          - text: \"FAQ\"\n            icon: \"question-circle\"\n            href: docs/faq/index.qmd"
  },
  {
    "objectID": "memo.html#combining-r-and-python-with-reticulate-and-quarto",
    "href": "memo.html#combining-r-and-python-with-reticulate-and-quarto",
    "title": "blog",
    "section": "Combining R and Python with {reticulate} and Quarto",
    "text": "Combining R and Python with {reticulate} and Quarto\nhttps://www.r-bloggers.com/2023/01/combining-r-and-python-with-reticulate-and-quarto/"
  },
  {
    "objectID": "posts/standard_deviation/index.html",
    "href": "posts/standard_deviation/index.html",
    "title": "Standard deviation",
    "section": "",
    "text": "# 栗原の入門統計学から作った統計ノートで作った\n# 今後は東京大学出版会　統計学入門 からピックアップして作っていくか？その方が詳しいので。"
  },
  {
    "objectID": "posts/standard_deviation/index.html#偏差平方和",
    "href": "posts/standard_deviation/index.html#偏差平方和",
    "title": "統計学基礎",
    "section": "1 偏差平方和",
    "text": "1 偏差平方和\n\\(\\displaystyle\\sum^{n}_{i=1}(x_i-\\overline{x})^2\\)\n\ndaa01<-c(5,6,3,5,5,4,5,4)\nsum(\n  (daa01-mean(daa01))^2\n  )\n\n[1] 5.875"
  },
  {
    "objectID": "posts/standard_deviation/index.html#分散-標本分散",
    "href": "posts/standard_deviation/index.html#分散-標本分散",
    "title": "統計学基礎",
    "section": "2 分散 (標本分散)",
    "text": "2 分散 (標本分散)\n\\(s^2=\\frac {\\displaystyle\\sum^{n}_{i=1}(x_i-\\overline{x})^2} {n}\\)\n\nsum(\n  (daa01-mean(daa01))^2\n  )/\n  length(daa01)\n\n[1] 0.734375\n\n\nor\n\nvar(daa01)*(length(daa01)-1)/length(daa01)\n\n[1] 0.734375"
  },
  {
    "objectID": "posts/standard_deviation/index.html#標準偏差標本分散の平方根",
    "href": "posts/standard_deviation/index.html#標準偏差標本分散の平方根",
    "title": "統計学基礎",
    "section": "3 標準偏差(標本分散の平方根)",
    "text": "3 標準偏差(標本分散の平方根)\n\\(s=\\sqrt{\\frac {\\displaystyle\\sum^{n}_{i=1}(x_i-\\overline{x})^2} {n}}\\)\n\nsqrt(\n  var(daa01)*(length(daa01)-1)/length(daa01)\n  )\n\n[1] 0.8569568\n\n\nor\n\nsd(daa01)*\n  sqrt(\n  (length(daa01)-1)/length(daa01)\n)\n\n[1] 0.8569568"
  },
  {
    "objectID": "posts/standard_deviation/index.html#変動係数",
    "href": "posts/standard_deviation/index.html#変動係数",
    "title": "統計学基礎",
    "section": "4 変動係数",
    "text": "4 変動係数\n\\(C.V.=\\frac {s} {\\overline{x}}\\)\n\nsd(daa01)*\n  sqrt(\n  (length(daa01)-1)/length(daa01)\n)/\n  mean(daa01)\n\n[1] 0.185288"
  },
  {
    "objectID": "posts/standard_deviation/index.html#相関係数",
    "href": "posts/standard_deviation/index.html#相関係数",
    "title": "統計学基礎",
    "section": "5 相関係数",
    "text": "5 相関係数\n\\(r=\\frac {\\displaystyle\\sum^{n}_{i=1}(x_i-\\overline{x}) (y_i-\\overline{y})} {\\sqrt{ {\\displaystyle\\sum^{n}_{i=1}(x_i-\\overline{x})^2}} \\sqrt{ {\\displaystyle\\sum^{n}_{i=1}(y_i-\\overline{y})^2}}}\\)\n\ndaa02<-c(7,8,3,5,4,3,8,6)\ncor(daa01,daa02,method=\"pearson\")\n\n[1] 0.7155814\n\n\n\nplot(daa01,daa02)"
  },
  {
    "objectID": "memo.html#a-quarto-tip-a-day",
    "href": "memo.html#a-quarto-tip-a-day",
    "title": "blog",
    "section": "A Quarto tip a day",
    "text": "A Quarto tip a day\n投稿の仕方の参考になりそう。\nhttps://mine-cetinkaya-rundel.github.io/quarto-tip-a-day/"
  },
  {
    "objectID": "posts/post-with-code/index.html#r-version",
    "href": "posts/post-with-code/index.html#r-version",
    "title": "コード入りの投稿サンプル",
    "section": "R version",
    "text": "R version\n\nR.version.string\n\n[1] \"R version 4.2.2 (2022-10-31)\""
  },
  {
    "objectID": "posts/post-with-code/index.html#python-version",
    "href": "posts/post-with-code/index.html#python-version",
    "title": "コード入りの投稿サンプル",
    "section": "Python version",
    "text": "Python version\n\nimport platform\n\"Python version \"+platform.python_version()\n\n'Python version 3.10.7'"
  },
  {
    "objectID": "posts/calculator/index.html",
    "href": "posts/calculator/index.html",
    "title": "Pythonを電卓として使う",
    "section": "",
    "text": "1+1\n\n2"
  },
  {
    "objectID": "posts/calculator/index.html#引き算",
    "href": "posts/calculator/index.html#引き算",
    "title": "Pythonを電卓として使う",
    "section": "引き算",
    "text": "引き算\n\n8-5\n\n3"
  },
  {
    "objectID": "posts/calculator/index.html#掛け算",
    "href": "posts/calculator/index.html#掛け算",
    "title": "Pythonを電卓として使う",
    "section": "掛け算",
    "text": "掛け算\n\n8*7\n\n56"
  },
  {
    "objectID": "posts/calculator/index.html#割り算",
    "href": "posts/calculator/index.html#割り算",
    "title": "Pythonを電卓として使う",
    "section": "割り算",
    "text": "割り算\n\n12/6\n\n2.0"
  },
  {
    "objectID": "posts/calculator/index.html#割り算の剰余",
    "href": "posts/calculator/index.html#割り算の剰余",
    "title": "Pythonを電卓として使う",
    "section": "割り算の剰余",
    "text": "割り算の剰余\n\n23%7\n\n2"
  },
  {
    "objectID": "posts/calculator/index.html#冪",
    "href": "posts/calculator/index.html#冪",
    "title": "Pythonを電卓として使う",
    "section": "冪",
    "text": "冪\n\n2**3\n\n8"
  },
  {
    "objectID": "posts/calculator/index.html#三角関数",
    "href": "posts/calculator/index.html#三角関数",
    "title": "Pythonを電卓として使う",
    "section": "三角関数",
    "text": "三角関数\n\nsin\n\nimport numpy as np\nnp.sin(0.2)\n\n0.19866933079506122\n\n\n\n\ncos\n\nnp.cos(0.2)\n\n0.9800665778412416\n\n\n\n\ntan\n\nnp.tan(0.2)\n\n0.20271003550867248"
  },
  {
    "objectID": "posts/calculator/index.html#python-version",
    "href": "posts/calculator/index.html#python-version",
    "title": "Pythonを電卓として使う",
    "section": "Python version",
    "text": "Python version\n\nimport platform\n\"Python version \"+platform.python_version()\n\n'Python version 3.10.7'"
  },
  {
    "objectID": "posts/calculator_R/index.html",
    "href": "posts/calculator_R/index.html",
    "title": "Rを電卓として使う",
    "section": "",
    "text": "実数(numeric)、複素数(complex)、文字・文字列(character)、論理値(logical)、空値(NULL)がある。"
  },
  {
    "objectID": "posts/calculator_R/index.html#r-version",
    "href": "posts/calculator_R/index.html#r-version",
    "title": "Rを電卓として使う",
    "section": "R version",
    "text": "R version\n\nR.version.string\n\n[1] \"R version 4.2.2 (2022-10-31)\""
  },
  {
    "objectID": "posts/calculator_R/index.html#データの構造",
    "href": "posts/calculator_R/index.html#データの構造",
    "title": "Rを電卓として使う",
    "section": "データの構造",
    "text": "データの構造\n> x<-1    #xに1を代入\n> x    #xを表示\n> [1] 1    #出力結果"
  },
  {
    "objectID": "posts/calculator_R/index.html#四則演算",
    "href": "posts/calculator_R/index.html#四則演算",
    "title": "Rを電卓として使う",
    "section": "四則演算",
    "text": "四則演算\n\n\n\n内容\n記号\n例\n結果\n\n\n\n\n足し算\n+\n5+6\n11\n\n\n引き算\n-\n8-3\n5\n\n\n掛け算\n*\n3*4\n12\n\n\n割り算\n/\n12/2\n6"
  },
  {
    "objectID": "posts/standard_deviation/index.html#正規分布",
    "href": "posts/standard_deviation/index.html#正規分布",
    "title": "統計学基礎",
    "section": "6 正規分布",
    "text": "6 正規分布\n\ncurve(dnorm(x,mean=0,sd=1),from=-4,to=4)"
  },
  {
    "objectID": "posts/standard_deviation/index.html#ヒストグラム",
    "href": "posts/standard_deviation/index.html#ヒストグラム",
    "title": "統計学基礎",
    "section": "7 ヒストグラム",
    "text": "7 ヒストグラム\n\n7.1 グラフ\n\ndaa03<-hist(daa01)\n\n\n\n\n\n\n7.2 度数分布表\n\ntibble(mids=daa03$mids,counts=daa03$counts,density=daa03$density) |> \n  gt() %>%\n  tab_header(\n    title = \"Frequency table\",\n    subtitle = \"daa01\"\n  )\n\n\n\n\n\n  \n    \n      Frequency table\n    \n    \n      daa01\n    \n  \n  \n    \n      mids\n      counts\n      density\n    \n  \n  \n    3.5\n3\n0.375\n    4.5\n4\n0.500\n    5.5\n1\n0.125"
  },
  {
    "objectID": "posts/survival/index.html",
    "href": "posts/survival/index.html",
    "title": "生存分析",
    "section": "",
    "text": "ライフのデータ\n\nlibrary(tidyverse)\nlibrary(plotly)\ndsu01<-read_csv(\"\n  life\n  28\n  30\n  32\n  30\n  25\n  27\n  24\n  23\n  29\n  29\n  29\n  31\n  38\n  33\n  32\n  29\n  30\n  18\n  28\n  28\n  24\n  23\n  28\n  29\n  27\n  26\n  28\n  28\n  28\n  27\n  \",show_col_types = FALSE\n)\ndsu11<-count(dsu01,life) |> \n  mutate(n=n/sum(n))\nf1<-plot_ly(x=dsu11$life,y=dsu11$n,type='bar',name=\"Actual\")\nf1"
  },
  {
    "objectID": "posts/survival/index.html#データの読み込み",
    "href": "posts/survival/index.html#データの読み込み",
    "title": "生存分析",
    "section": "2 データの読み込み",
    "text": "2 データの読み込み\nライフのデータ\n\ndsu01<-read_csv(\"\n  life\n  28\n  30\n  32\n  30\n  25\n  27\n  24\n  23\n  29\n  29\n  29\n  31\n  38\n  33\n  32\n  29\n  30\n  18\n  28\n  28\n  24\n  23\n  28\n  29\n  27\n  26\n  28\n  28\n  28\n  27\n  \",show_col_types = FALSE\n)\ndsu11<-count(dsu01,life) |> \n  mutate(n=n/sum(n))\nplot_ly(x=dsu11$life,y=dsu11$n,type='bar')"
  },
  {
    "objectID": "posts/survival/index.html#r-version",
    "href": "posts/survival/index.html#r-version",
    "title": "生存分析",
    "section": "3.4 R version",
    "text": "3.4 R version\n\nR.version.string\n\n[1] \"R version 4.2.2 (2022-10-31)\""
  },
  {
    "objectID": "posts/survival/index.html#ワイブル",
    "href": "posts/survival/index.html#ワイブル",
    "title": "生存分析",
    "section": "3 ワイブル",
    "text": "3 ワイブル\n\n3.1 確率密度関数\n\\[\nf(t)=\\frac{m}{\\eta}\\left(\\frac{t}{\\eta}\\right)^{m-1}e^{-\\left(\\frac{t}{\\eta}\\right)^m}\n\\]\n\nweibull_d<-function(m,t,eta){\n  k<-(m/eta)*(t/eta)^(m-1)*exp(-1*((t/eta)^m))\n  return(k)}\n\n\\(m=2\\), \\(\\eta=15\\)の場合\n\nm1<-2\neta1<-15\nplot(weibull_d(m1,c(1:35),eta1))\n\n\n\n\n\n\n3.2 ワイブル分布に従う乱数\n\ni<-rweibull(1000,shape = m1,scale = eta1)\nhist(i)\n\n\n\n\nデータからワイブルのパラメーターを算出する方法：survregを使う。\n\nt<-survreg(Surv(dsu01$life)~1, dist=\"weibull\")\n\nsurvregの結果は、上述の確率密度関数のパラメーターとして使うには換算する必要がある。\n\\(m\\)\n\n1/t$scale\n\n[1] 8.057331\n\n\n\\(\\eta\\)\n\nexp(unname(t$coefficients))\n\n[1] 29.57896"
  },
  {
    "objectID": "posts/survival/index.html#python",
    "href": "posts/survival/index.html#python",
    "title": "生存分析",
    "section": "5 Python",
    "text": "5 Python\n\nfrom reliability.Fitters import Fit_Weibull_2P\nimport matplotlib.pyplot as plt\nfail_times = [\n9402.7,\n6082.4,\n13367.2,\n10644.6,\n8632.0,\n3043.4,\n12860.2,\n1034.5,\n2550.9,\n3637.1\n]\nwb = Fit_Weibull_2P(failures=fail_times)\n\n\u001b[1m\u001b[23m\u001b[4m\u001b[49m\u001b[39mResults from Fit_Weibull_2P (95% CI):\u001b[0m\nAnalysis method: Maximum Likelihood Estimation (MLE)\nOptimizer: TNC\nFailures / Right censored: 10/0 (0% right censored) \n\nParameter  Point Estimate  Standard Error  Lower CI  Upper CI\n    Alpha         7965.97         1573.53   5408.78   11732.2\n     Beta         1.68128        0.444137    1.0018   2.82162 \n\nGoodness of fit    Value\n Log-likelihood -97.1296\n           AICc  199.973\n            BIC  198.864\n             AD   1.5487 \n\nplt.show()\n\n\n\n\n\nfrom reliability.Distributions import Weibull_Distribution\nfrom reliability.Fitters import Fit_Weibull_3P\nfrom reliability.Other_functions import make_right_censored_data, histogram\nimport matplotlib.pyplot as plt\n\na = 30\nb = 2\ng = 20\nthreshold=55\ndist = Weibull_Distribution(alpha=a, beta=b, gamma=g) # generate a weibull distribution\nraw_data = dist.random_samples(500, seed=2)  # create some data from the distribution\ndata = make_right_censored_data(raw_data,threshold=threshold) #right censor some of the data\nprint('There are', len(data.right_censored), 'right censored items.')\n\nThere are 118 right censored items.\n\nwbf = Fit_Weibull_3P(failures=data.failures, right_censored=data.right_censored, show_probability_plot=False, print_results=False)  # fit the Weibull_3P distribution\nprint('Fit_Weibull_3P parameters:\\nAlpha:', wbf.alpha, '\\nBeta:', wbf.beta, '\\nGamma', wbf.gamma)\n\nFit_Weibull_3P parameters:\nAlpha: 28.874744956093892 \nBeta: 2.029495367281646 \nGamma 20.38395851616883\n\nhistogram(raw_data,white_above=threshold) # generates the histogram using optimal bin width and shades the censored part as white\ndist.PDF(label='True Distribution')  # plots the true distribution's PDF\n\narray([0.00000000e+00, 0.00000000e+00, 6.66616666e-04, 1.49382607e-03,\n       2.31965387e-03, 3.14333731e-03, 3.96411691e-03, 4.78123770e-03,\n       5.59395029e-03, 6.40151210e-03, 7.20318844e-03, 7.99825363e-03,\n       8.78599213e-03, 9.56569954e-03, 1.03366837e-02, 1.10982658e-02,\n       1.18497811e-02, 1.25905803e-02, 1.33200300e-02, 1.40375141e-02,\n       1.47424341e-02, 1.54342105e-02, 1.61122833e-02, 1.67761126e-02,\n       1.74251796e-02, 1.80589870e-02, 1.86770599e-02, 1.92789461e-02,\n       1.98642167e-02, 2.04324668e-02, 2.09833155e-02, 2.15164068e-02,\n       2.20314094e-02, 2.25280173e-02, 2.30059501e-02, 2.34649530e-02,\n       2.39047969e-02, 2.43252787e-02, 2.47262211e-02, 2.51074729e-02,\n       2.54689087e-02, 2.58104287e-02, 2.61319588e-02, 2.64334504e-02,\n       2.67148801e-02, 2.69762491e-02, 2.72175834e-02, 2.74389331e-02,\n       2.76403723e-02, 2.78219982e-02, 2.79839310e-02, 2.81263131e-02,\n       2.82493090e-02, 2.83531041e-02, 2.84379046e-02, 2.85039366e-02,\n       2.85514456e-02, 2.85806957e-02, 2.85919688e-02, 2.85855640e-02,\n       2.85617970e-02, 2.85209990e-02, 2.84635160e-02, 2.83897082e-02,\n       2.82999489e-02, 2.81946241e-02, 2.80741312e-02, 2.79388784e-02,\n       2.77892840e-02, 2.76257751e-02, 2.74487875e-02, 2.72587640e-02,\n       2.70561544e-02, 2.68414140e-02, 2.66150032e-02, 2.63773865e-02,\n       2.61290318e-02, 2.58704095e-02, 2.56019918e-02, 2.53242521e-02,\n       2.50376638e-02, 2.47427001e-02, 2.44398329e-02, 2.41295323e-02,\n       2.38122660e-02, 2.34884982e-02, 2.31586898e-02, 2.28232968e-02,\n       2.24827705e-02, 2.21375568e-02, 2.17880952e-02, 2.14348187e-02,\n       2.10781535e-02, 2.07185180e-02, 2.03563227e-02, 1.99919699e-02,\n       1.96258531e-02, 1.92583567e-02, 1.88898556e-02, 1.85207152e-02,\n       1.81512908e-02, 1.77819276e-02, 1.74129602e-02, 1.70447127e-02,\n       1.66774984e-02, 1.63116196e-02, 1.59473677e-02, 1.55850226e-02,\n       1.52248534e-02, 1.48671177e-02, 1.45120617e-02, 1.41599206e-02,\n       1.38109180e-02, 1.34652664e-02, 1.31231671e-02, 1.27848103e-02,\n       1.24503750e-02, 1.21200294e-02, 1.17939308e-02, 1.14722261e-02,\n       1.11550513e-02, 1.08425324e-02, 1.05347849e-02, 1.02319146e-02,\n       9.93401738e-03, 9.64117967e-03, 9.35347847e-03, 9.07098174e-03,\n       8.79374853e-03, 8.52182930e-03, 8.25526614e-03, 7.99409305e-03,\n       7.73833617e-03, 7.48801406e-03, 7.24313800e-03, 7.00371222e-03,\n       6.76973419e-03, 6.54119492e-03, 6.31807920e-03, 6.10036589e-03,\n       5.88802820e-03, 5.68103396e-03, 5.47934592e-03, 5.28292197e-03,\n       5.09171543e-03, 4.90567536e-03, 4.72474672e-03, 4.54887075e-03,\n       4.37798513e-03, 4.21202427e-03, 4.05091953e-03, 3.89459949e-03,\n       3.74299017e-03, 3.59601522e-03, 3.45359621e-03, 3.31565280e-03,\n       3.18210293e-03, 3.05286308e-03, 2.92784842e-03, 2.80697300e-03,\n       2.69014997e-03, 2.57729170e-03, 2.46831000e-03, 2.36311623e-03,\n       2.26162149e-03, 2.16373678e-03, 2.06937308e-03, 1.97844153e-03,\n       1.89085357e-03, 1.80652101e-03, 1.72535616e-03, 1.64727197e-03,\n       1.57218210e-03, 1.50000100e-03, 1.43064402e-03, 1.43064402e-03,\n       1.26823159e-03, 1.11982024e-03, 9.84760211e-04, 8.62369364e-04,\n       7.51940507e-04, 6.52748831e-04, 5.64059222e-04, 4.85133371e-04,\n       4.15236573e-04, 3.53644133e-04, 2.99647272e-04, 2.52558481e-04,\n       2.11716241e-04, 1.76489082e-04, 1.46278940e-04, 1.20523799e-04,\n       9.86996169e-05, 8.03215666e-05, 6.49445999e-05, 5.21633981e-05,\n       4.16117551e-05, 3.29614580e-05, 2.59207377e-05, 2.02323617e-05])\n\nwbf.distribution.PDF(label='Fit_Weibull_3P', linestyle='--')  # plots to PDF of the fitted Weibull_3P\n\narray([0.00000000e+00, 0.00000000e+00, 6.57310834e-04, 1.44368039e-03,\n       2.24199812e-03, 3.04682493e-03, 3.85526563e-03, 4.66532940e-03,\n       5.47545687e-03, 6.28433031e-03, 7.09078255e-03, 7.89374807e-03,\n       8.69223454e-03, 9.48530546e-03, 1.02720690e-02, 1.10516709e-02,\n       1.18232891e-02, 1.25861313e-02, 1.33394321e-02, 1.40824517e-02,\n       1.48144754e-02, 1.55348127e-02, 1.62427971e-02, 1.69377861e-02,\n       1.76191613e-02, 1.82863285e-02, 1.89387182e-02, 1.95757853e-02,\n       2.01970101e-02, 2.08018984e-02, 2.13899813e-02, 2.19608165e-02,\n       2.25139876e-02, 2.30491051e-02, 2.35658063e-02, 2.40637554e-02,\n       2.45426440e-02, 2.50021912e-02, 2.54421434e-02, 2.58622745e-02,\n       2.62623860e-02, 2.66423071e-02, 2.70018942e-02, 2.73410311e-02,\n       2.76596287e-02, 2.79576250e-02, 2.82349846e-02, 2.84916986e-02,\n       2.87277839e-02, 2.89432834e-02, 2.91382652e-02, 2.93128220e-02,\n       2.94670711e-02, 2.96011534e-02, 2.97152330e-02, 2.98094968e-02,\n       2.98841534e-02, 2.99394329e-02, 2.99755859e-02, 2.99928831e-02,\n       2.99916140e-02, 2.99720869e-02, 2.99346272e-02, 2.98795775e-02,\n       2.98072961e-02, 2.97181565e-02, 2.96125465e-02, 2.94908672e-02,\n       2.93535323e-02, 2.92009671e-02, 2.90336076e-02, 2.88518997e-02,\n       2.86562983e-02, 2.84472664e-02, 2.82252742e-02, 2.79907981e-02,\n       2.77443201e-02, 2.74863268e-02, 2.72173083e-02, 2.69377577e-02,\n       2.66481704e-02, 2.63490426e-02, 2.60408713e-02, 2.57241530e-02,\n       2.53993830e-02, 2.50670548e-02, 2.47276596e-02, 2.43816849e-02,\n       2.40296145e-02, 2.36719276e-02, 2.33090981e-02, 2.29415940e-02,\n       2.25698770e-02, 2.21944018e-02, 2.18156157e-02, 2.14339579e-02,\n       2.10498592e-02, 2.06637417e-02, 2.02760179e-02, 1.98870910e-02,\n       1.94973538e-02, 1.91071890e-02, 1.87169687e-02, 1.83270541e-02,\n       1.79377950e-02, 1.75495302e-02, 1.71625869e-02, 1.67772804e-02,\n       1.63939145e-02, 1.60127809e-02, 1.56341593e-02, 1.52583174e-02,\n       1.48855109e-02, 1.45159835e-02, 1.41499665e-02, 1.37876794e-02,\n       1.34293300e-02, 1.30751137e-02, 1.27252144e-02, 1.23798045e-02,\n       1.20390446e-02, 1.17030841e-02, 1.13720611e-02, 1.10461026e-02,\n       1.07253251e-02, 1.04098343e-02, 1.00997253e-02, 9.79508347e-03,\n       9.49598394e-03, 9.20249235e-03, 8.91466490e-03, 8.63254865e-03,\n       8.35618185e-03, 8.08559415e-03, 7.82080696e-03, 7.56183367e-03,\n       7.30867998e-03, 7.06134423e-03, 6.81981762e-03, 6.58408459e-03,\n       6.35412306e-03, 6.12990477e-03, 5.91139556e-03, 5.69855569e-03,\n       5.49134008e-03, 5.28969870e-03, 5.09357675e-03, 4.90291504e-03,\n       4.71765021e-03, 4.53771505e-03, 4.36303874e-03, 4.19354714e-03,\n       4.02916305e-03, 3.86980644e-03, 3.71539474e-03, 3.56584306e-03,\n       3.42106444e-03, 3.28097005e-03, 3.14546945e-03, 3.01447077e-03,\n       2.88788097e-03, 2.76560598e-03, 2.64755091e-03, 2.53362027e-03,\n       2.42371811e-03, 2.31774820e-03, 2.21561418e-03, 2.11721976e-03,\n       2.02246880e-03, 1.93126551e-03, 1.84351452e-03, 1.75912106e-03,\n       1.67799106e-03, 1.60003124e-03, 1.52514923e-03, 1.52514923e-03,\n       1.35229198e-03, 1.19429430e-03, 1.05047250e-03, 9.20107685e-04,\n       8.02453664e-04, 6.96744793e-04, 6.02203782e-04, 5.18049274e-04,\n       4.43503103e-04, 3.77797142e-04, 3.20179620e-04, 2.69920866e-04,\n       2.26318377e-04, 1.88701189e-04, 1.56433493e-04, 1.28917505e-04,\n       1.05595569e-04, 8.59515164e-05, 6.95113245e-05, 5.58431025e-05,\n       4.45564767e-05, 3.53014356e-05, 2.77667121e-05, 2.16777811e-05])\n\nplt.title('Fitting comparison for failures and right censored data')\nplt.legend()\nplt.show()"
  },
  {
    "objectID": "posts/survival/index.html#参考サイト",
    "href": "posts/survival/index.html#参考サイト",
    "title": "生存分析",
    "section": "4.4 参考サイト",
    "text": "4.4 参考サイト\nPython package reliability - Fitting a specific distribution to data"
  },
  {
    "objectID": "posts/survival/index.html#ワイブル分布",
    "href": "posts/survival/index.html#ワイブル分布",
    "title": "生存分析",
    "section": "6 ワイブル分布",
    "text": "6 ワイブル分布\n\nimport numpy as np\nimport plotly.express as px\ndef weibull_d(m,t,eta):\n  k=(m/eta)*(t/eta)**(m-1)*np.exp(-1*((t/eta)**m))\n  return k\nm1=2\neta1=15\nt1=np.arange(1,36)\nd1=weibull_d(m1,t1,eta1)\nfig1=px.scatter(x=t1,y=d1)\nfig1"
  },
  {
    "objectID": "posts/survival/index.html#フィット",
    "href": "posts/survival/index.html#フィット",
    "title": "生存分析",
    "section": "4.2 フィット",
    "text": "4.2 フィット\n結果詳細。Alphaは形状パラメーターm、Betaは尺度パラメーターηに相当する。\n\ndsu02=r.dsu01\nlife_max=int(max(dsu02['life']))\ndsu03=dsu02['life'].values.tolist()\nwb2 = Fit_Weibull_2P(failures=dsu03)\n\n\u001b[1m\u001b[23m\u001b[4m\u001b[49m\u001b[39mResults from Fit_Weibull_2P (95% CI):\u001b[0m\nAnalysis method: Maximum Likelihood Estimation (MLE)\nOptimizer: TNC\nFailures / Right censored: 30/0 (0% right censored) \n\nParameter  Point Estimate  Standard Error  Lower CI  Upper CI\n    Alpha          29.579        0.709558   28.2204   31.0029\n     Beta         8.05733         1.02419   6.28047   10.3369 \n\nGoodness of fit    Value\n Log-likelihood -82.1756\n           AICc  168.796\n            BIC  171.154\n             AD  1.48179"
  },
  {
    "objectID": "posts/survival/index.html#パッケージの読み込み",
    "href": "posts/survival/index.html#パッケージの読み込み",
    "title": "生存分析",
    "section": "3.1 パッケージの読み込み",
    "text": "3.1 パッケージの読み込み\n\nlibrary(survival)"
  },
  {
    "objectID": "posts/survival/index.html#ワイブルのパラメーターを算出",
    "href": "posts/survival/index.html#ワイブルのパラメーターを算出",
    "title": "生存分析",
    "section": "3.2 ワイブルのパラメーターを算出",
    "text": "3.2 ワイブルのパラメーターを算出\nsurvregを使う。\n\nt<-survreg(Surv(dsu01$life)~1, dist=\"weibull\")\n\nsurvregの結果は、上述の確率密度関数のパラメーターとして使うには換算する必要がある。\n\\(m\\)\n\nm_fit<-1/t$scale\nm_fit\n\n[1] 8.057331\n\n\n\\(\\eta\\)\n\neta_fit<-exp(unname(t$coefficients))\neta_fit\n\n[1] 29.57896"
  },
  {
    "objectID": "posts/survival/index.html#グラフ化",
    "href": "posts/survival/index.html#グラフ化",
    "title": "生存分析",
    "section": "3.3 グラフ化",
    "text": "3.3 グラフ化\n\ntsr<-c(1:max(dsu01$life))\nttr<-str_c(\"Scale parameter η: \",as.character(round(eta_fit,3)),\", Shape parameter m: \",as.character(round(m_fit,3)))\nf2<-f1|> \n  add_trace(x=tsr,y=dweibull(tsr,shape=m_fit,scale=eta_fit),type=\"scatter\",mode=\"line\",name=\"Weibull fit\") |>\n  layout(title=\"Weibull fit with 'survival' package - R\") |> \n  add_annotations(\n    x= 0.03,\n    y= 0.95,\n    xref = \"paper\",\n    yref = \"paper\",\n    text = ttr,\n    showarrow=FALSE)\nf2"
  },
  {
    "objectID": "posts/survival/index.html#関数定義",
    "href": "posts/survival/index.html#関数定義",
    "title": "生存分析",
    "section": "4.1 関数定義",
    "text": "4.1 関数定義\npythonはワイブル関数の自作が必要\n\ndef weibull_d(m,t,eta):\n  k=(m/eta)*(t/eta)**(m-1)*np.exp(-1*((t/eta)**m))\n  return k"
  },
  {
    "objectID": "posts/survival/index.html#グラフ化-1",
    "href": "posts/survival/index.html#グラフ化-1",
    "title": "生存分析",
    "section": "4.3 グラフ化",
    "text": "4.3 グラフ化\n\ntt=\"Scale parameter η: \"+str(round(wb2.alpha,3))+\", Shape parameter m: \"+str(round(wb2.beta,3))\nts=np.arange(1,life_max+1)\nta=r.dsu11\nfig0201=go.Bar(\n        x=ta['life'], y=ta[\"n\"],name='Actual',\n        marker={\"color\": \"blue\"}\n        )\nfig0202=go.Scatter(\n        x=ts, y=weibull_d(wb2.beta,ts,wb2.alpha), name='Weibull fit',\n        line={\"color\": \"orange\"},\n    )\nlayout=go.Layout(\n        title={\"text\":\"Weibull fit with 'leliability' package - Python \"})\nfig04=go.Figure(data=[fig0201,fig0202],layout=layout)\nfig04=fig04.update_layout(annotations=[\n  go.layout.Annotation(\n    xref=\"paper\",\n    yref=\"paper\",\n    x=0.03,\n    y=0.95,\n    showarrow=False,\n    text=tt\n)\n])\nfig04"
  }
]