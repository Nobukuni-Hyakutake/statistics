<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>統計学の勉強ノート</title>
<link>https://nobukuni-hyakutake.github.io/statistics/index.html</link>
<atom:link href="https://nobukuni-hyakutake.github.io/statistics/index.xml" rel="self" type="application/rss+xml"/>
<description>A sample blog</description>
<generator>quarto-1.2.313</generator>
<lastBuildDate>Wed, 22 Feb 2023 15:00:00 GMT</lastBuildDate>
<item>
  <title>相関係数</title>
  <dc:creator>Nobukuni Hyakutake</dc:creator>
  <link>https://nobukuni-hyakutake.github.io/statistics/posts/correlations/index.html</link>
  <description><![CDATA[ 




<p><img src="https://nobukuni-hyakutake.github.io/statistics/posts/correlations/sea.jpeg" class="img-fluid"></p>
<section id="目的" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> 目的</h1>
<p>Rで相関係数行列を作成します。</p>
</section>
<section id="作成" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> 作成</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">library</span>(corrr)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;">library</span>(tidyverse)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;">library</span>(gt)</span>
<span id="cb1-4">dcr01<span class="ot" style="color: #003B4F;">&lt;-</span>datasets<span class="sc" style="color: #5E5E5E;">::</span>airquality <span class="sc" style="color: #5E5E5E;">%&gt;%</span> </span>
<span id="cb1-5">  <span class="fu" style="color: #4758AB;">correlate</span>() <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb1-6">  <span class="fu" style="color: #4758AB;">shave</span>()</span>
<span id="cb1-7"><span class="fu" style="color: #4758AB;">gt</span>(dcr01)</span></code></pre></div>
<div class="cell-output-display">

<div id="cjphaaiuey" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#cjphaaiuey) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#cjphaaiuey) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#cjphaaiuey) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#cjphaaiuey) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#cjphaaiuey) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#cjphaaiuey) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#cjphaaiuey) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#cjphaaiuey) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#cjphaaiuey) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#cjphaaiuey) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#cjphaaiuey) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#cjphaaiuey) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#cjphaaiuey) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#cjphaaiuey) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#cjphaaiuey) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#cjphaaiuey) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#cjphaaiuey) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#cjphaaiuey) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cjphaaiuey) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#cjphaaiuey) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#cjphaaiuey) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cjphaaiuey) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#cjphaaiuey) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#cjphaaiuey) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#cjphaaiuey) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cjphaaiuey) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#cjphaaiuey) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#cjphaaiuey) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#cjphaaiuey) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#cjphaaiuey) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cjphaaiuey) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#cjphaaiuey) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cjphaaiuey) .gt_left {
  text-align: left;
}

:where(#cjphaaiuey) .gt_center {
  text-align: center;
}

:where(#cjphaaiuey) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#cjphaaiuey) .gt_font_normal {
  font-weight: normal;
}

:where(#cjphaaiuey) .gt_font_bold {
  font-weight: bold;
}

:where(#cjphaaiuey) .gt_font_italic {
  font-style: italic;
}

:where(#cjphaaiuey) .gt_super {
  font-size: 65%;
}

:where(#cjphaaiuey) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#cjphaaiuey) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#cjphaaiuey) .gt_indent_1 {
  text-indent: 5px;
}

:where(#cjphaaiuey) .gt_indent_2 {
  text-indent: 10px;
}

:where(#cjphaaiuey) .gt_indent_3 {
  text-indent: 15px;
}

:where(#cjphaaiuey) .gt_indent_4 {
  text-indent: 20px;
}

:where(#cjphaaiuey) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="term">term</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Ozone">Ozone</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Solar.R">Solar.R</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Wind">Wind</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Temp">Temp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Month">Month</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Day">Day</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="term" class="gt_row gt_left">Ozone</td>
<td headers="Ozone" class="gt_row gt_right">NA</td>
<td headers="Solar.R" class="gt_row gt_right">NA</td>
<td headers="Wind" class="gt_row gt_right">NA</td>
<td headers="Temp" class="gt_row gt_right">NA</td>
<td headers="Month" class="gt_row gt_right">NA</td>
<td headers="Day" class="gt_row gt_right">NA</td></tr>
    <tr><td headers="term" class="gt_row gt_left">Solar.R</td>
<td headers="Ozone" class="gt_row gt_right">0.34834169</td>
<td headers="Solar.R" class="gt_row gt_right">NA</td>
<td headers="Wind" class="gt_row gt_right">NA</td>
<td headers="Temp" class="gt_row gt_right">NA</td>
<td headers="Month" class="gt_row gt_right">NA</td>
<td headers="Day" class="gt_row gt_right">NA</td></tr>
    <tr><td headers="term" class="gt_row gt_left">Wind</td>
<td headers="Ozone" class="gt_row gt_right">-0.60154653</td>
<td headers="Solar.R" class="gt_row gt_right">-0.05679167</td>
<td headers="Wind" class="gt_row gt_right">NA</td>
<td headers="Temp" class="gt_row gt_right">NA</td>
<td headers="Month" class="gt_row gt_right">NA</td>
<td headers="Day" class="gt_row gt_right">NA</td></tr>
    <tr><td headers="term" class="gt_row gt_left">Temp</td>
<td headers="Ozone" class="gt_row gt_right">0.69836034</td>
<td headers="Solar.R" class="gt_row gt_right">0.27584027</td>
<td headers="Wind" class="gt_row gt_right">-0.4579879</td>
<td headers="Temp" class="gt_row gt_right">NA</td>
<td headers="Month" class="gt_row gt_right">NA</td>
<td headers="Day" class="gt_row gt_right">NA</td></tr>
    <tr><td headers="term" class="gt_row gt_left">Month</td>
<td headers="Ozone" class="gt_row gt_right">0.16451931</td>
<td headers="Solar.R" class="gt_row gt_right">-0.07530076</td>
<td headers="Wind" class="gt_row gt_right">-0.1782926</td>
<td headers="Temp" class="gt_row gt_right">0.4209473</td>
<td headers="Month" class="gt_row gt_right">NA</td>
<td headers="Day" class="gt_row gt_right">NA</td></tr>
    <tr><td headers="term" class="gt_row gt_left">Day</td>
<td headers="Ozone" class="gt_row gt_right">-0.01322565</td>
<td headers="Solar.R" class="gt_row gt_right">-0.15027498</td>
<td headers="Wind" class="gt_row gt_right">0.0271809</td>
<td headers="Temp" class="gt_row gt_right">-0.1305932</td>
<td headers="Month" class="gt_row gt_right">-0.007961763</td>
<td headers="Day" class="gt_row gt_right">NA</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="参考ウェブサイト" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> 参考ウェブサイト</h1>
<ul>
<li><a href="https://corrr.tidymodels.org/">corrr</a></li>
</ul>


<!-- -->

</section>

 ]]></description>
  <category>R</category>
  <guid>https://nobukuni-hyakutake.github.io/statistics/posts/correlations/index.html</guid>
  <pubDate>Wed, 22 Feb 2023 15:00:00 GMT</pubDate>
  <media:content url="https://nobukuni-hyakutake.github.io/statistics/posts/correlations/sea.jpeg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>グラフ</title>
  <dc:creator>Nobukuni Hyakutake</dc:creator>
  <link>https://nobukuni-hyakutake.github.io/statistics/posts/graph/index.html</link>
  <description><![CDATA[ 




<p><img src="https://nobukuni-hyakutake.github.io/statistics/posts/graph/mountain.jpeg" class="img-fluid"></p>
<section id="目的" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> 目的</h1>
<p>RとPythonでグラフ作成をします。</p>
</section>
<section id="ヒストグラム" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> ヒストグラム</h1>
<section id="r" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="r"><span class="header-section-number">2.1</span> R</h2>
<section id="データの読み込み" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="データの読み込み"><span class="header-section-number">2.1.1</span> データの読み込み</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">library</span>(tidyverse)</span>
<span id="cb1-2">dgr01<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">tibble</span>(<span class="at" style="color: #657422;">value=</span><span class="fu" style="color: #4758AB;">c</span>(<span class="dv" style="color: #AD0000;">2</span>,<span class="dv" style="color: #AD0000;">2</span>,<span class="dv" style="color: #AD0000;">3</span>,<span class="dv" style="color: #AD0000;">3</span>,<span class="dv" style="color: #AD0000;">3</span>,<span class="dv" style="color: #AD0000;">4</span>,<span class="dv" style="color: #AD0000;">4</span>,<span class="dv" style="color: #AD0000;">5</span>,<span class="dv" style="color: #AD0000;">5</span>,<span class="dv" style="color: #AD0000;">6</span>,<span class="dv" style="color: #AD0000;">6</span>,<span class="dv" style="color: #AD0000;">6</span>,<span class="dv" style="color: #AD0000;">7</span>,<span class="dv" style="color: #AD0000;">7</span>,<span class="dv" style="color: #AD0000;">7</span>,<span class="dv" style="color: #AD0000;">7</span>,<span class="dv" style="color: #AD0000;">7</span>,<span class="dv" style="color: #AD0000;">8</span>,<span class="dv" style="color: #AD0000;">8</span>,<span class="dv" style="color: #AD0000;">8</span>))</span></code></pre></div>
</div>
</section>
<section id="ヒストグラム-1" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="ヒストグラム-1"><span class="header-section-number">2.1.2</span> ヒストグラム</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;">ggplot</span>(dgr01,<span class="fu" style="color: #4758AB;">aes</span>(value))<span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb2-2">  <span class="fu" style="color: #4758AB;">geom_histogram</span>(<span class="at" style="color: #657422;">binwidth =</span> <span class="dv" style="color: #AD0000;">1</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://nobukuni-hyakutake.github.io/statistics/posts/graph/index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="qqプロット" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="qqプロット"><span class="header-section-number">2.1.3</span> QQプロット</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;">ggplot</span>(dgr01,<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">sample=</span>value))<span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb3-2">  <span class="fu" style="color: #4758AB;">stat_qq</span>()<span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb3-3">  <span class="fu" style="color: #4758AB;">stat_qq_line</span>()<span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb3-4">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">x =</span> <span class="st" style="color: #20794D;">"Theoretical Quantiles"</span>, <span class="at" style="color: #657422;">y =</span> <span class="st" style="color: #20794D;">"Sample Quantiles"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://nobukuni-hyakutake.github.io/statistics/posts/graph/index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="python" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="python"><span class="header-section-number">2.2</span> Python</h2>
<section id="データの読み込み-1" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="データの読み込み-1"><span class="header-section-number">2.2.1</span> データの読み込み</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="im" style="color: #00769E;">import</span> numpy <span class="im" style="color: #00769E;">as</span> np</span>
<span id="cb4-2"><span class="im" style="color: #00769E;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;">as</span> plt</span>
<span id="cb4-3"><span class="im" style="color: #00769E;">import</span> statsmodels.api <span class="im" style="color: #00769E;">as</span> sm</span>
<span id="cb4-4">dgp01<span class="op" style="color: #5E5E5E;">=</span>np.array([<span class="dv" style="color: #AD0000;">2</span>,<span class="dv" style="color: #AD0000;">2</span>,<span class="dv" style="color: #AD0000;">3</span>,<span class="dv" style="color: #AD0000;">3</span>,<span class="dv" style="color: #AD0000;">3</span>,<span class="dv" style="color: #AD0000;">4</span>,<span class="dv" style="color: #AD0000;">4</span>,<span class="dv" style="color: #AD0000;">5</span>,<span class="dv" style="color: #AD0000;">5</span>,<span class="dv" style="color: #AD0000;">6</span>,<span class="dv" style="color: #AD0000;">6</span>,<span class="dv" style="color: #AD0000;">6</span>,<span class="dv" style="color: #AD0000;">7</span>,<span class="dv" style="color: #AD0000;">7</span>,<span class="dv" style="color: #AD0000;">7</span>,<span class="dv" style="color: #AD0000;">7</span>,<span class="dv" style="color: #AD0000;">7</span>,<span class="dv" style="color: #AD0000;">8</span>,<span class="dv" style="color: #AD0000;">8</span>,<span class="dv" style="color: #AD0000;">8</span>])</span>
<span id="cb4-5">counts,bins<span class="op" style="color: #5E5E5E;">=</span>np.histogram(dgp01,</span>
<span id="cb4-6">bins<span class="op" style="color: #5E5E5E;">=</span><span class="bu" style="color: null;">int</span>(<span class="bu" style="color: null;">max</span>(dgp01)<span class="op" style="color: #5E5E5E;">-</span><span class="bu" style="color: null;">min</span>(dgp01)<span class="op" style="color: #5E5E5E;">+</span><span class="dv" style="color: #AD0000;">1</span>),</span>
<span id="cb4-7"><span class="bu" style="color: null;">range</span><span class="op" style="color: #5E5E5E;">=</span>(<span class="bu" style="color: null;">min</span>(dgp01)<span class="op" style="color: #5E5E5E;">-</span><span class="fl" style="color: #AD0000;">0.5</span>,<span class="bu" style="color: null;">max</span>(dgp01)<span class="op" style="color: #5E5E5E;">+</span><span class="fl" style="color: #AD0000;">0.5</span>))</span></code></pre></div>
</div>
</section>
<section id="ヒストグラム-2" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="ヒストグラム-2"><span class="header-section-number">2.2.2</span> ヒストグラム</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1">plt.stairs(counts,bins,fill<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>)</span>
<span id="cb5-2">plt.show()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://nobukuni-hyakutake.github.io/statistics/posts/graph/index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1">plt.clf()</span></code></pre></div>
</div>
</section>
<section id="qqプロット-1" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="qqプロット-1"><span class="header-section-number">2.2.3</span> QQプロット</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><span class="im" style="color: #00769E;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;">as</span> plt</span>
<span id="cb7-2">sm.qqplot(dgp01,fit<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>,line<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'45'</span>)</span>
<span id="cb7-3">plt.show()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://nobukuni-hyakutake.github.io/statistics/posts/graph/index_files/figure-html/unnamed-chunk-6-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1">plt.clf()</span></code></pre></div>
</div>
</section>
</section>
</section>
<section id="参考書籍" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> 参考書籍</h1>
<ul>
<li><a href="https://www.oreilly.co.jp/books/9784873118413/">Pythonデータサイエンスハンドブック</a></li>
</ul>
</section>
<section id="参考ウェブサイト" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> 参考ウェブサイト</h1>
<ul>
<li><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">ggplot2 - Histograms and frequency polygons</a></li>
<li><a href="https://ggplot2.tidyverse.org/reference/geom_qq.html">ggplot2- A quantile-quantile plot</a></li>
<li><a href="https://utokyo-ipp.github.io/index.html">Pythonプログラミング入門 (東京大学 数理・情報教育研究センター)</a></li>
<li><a href="https://nakazakimasahito.wordpress.com/">matplotlib 初期化</a></li>
<li><a href="https://numpy.org/doc/stable/reference/generated/numpy.histogram.html">numpy.histogram</a></li>
<li><a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.stairs.html">matplotlib.pyplot.stairs</a></li>
</ul>


<!-- -->

</section>

 ]]></description>
  <category>R</category>
  <category>Python</category>
  <guid>https://nobukuni-hyakutake.github.io/statistics/posts/graph/index.html</guid>
  <pubDate>Tue, 21 Feb 2023 15:00:00 GMT</pubDate>
  <media:content url="https://nobukuni-hyakutake.github.io/statistics/posts/graph/mountain.jpeg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>ワイブル分布の確率密度関数への近似</title>
  <dc:creator>Nobukuni Hyakutake</dc:creator>
  <link>https://nobukuni-hyakutake.github.io/statistics/posts/survival/index.html</link>
  <description><![CDATA[ 




<p><img src="https://nobukuni-hyakutake.github.io/statistics/posts/survival/aqua.jpeg" class="img-fluid"></p>
<section id="目的" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> 目的</h1>
<p>寿命データを最尤推定法でワイブル分布の確率密度関数に近似します。</p>
</section>
<section id="解析するデータの読み込み" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> 解析するデータの読み込み</h1>
<p>寿命のデータ</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">library</span>(tidyverse)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;">library</span>(plotly)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;">library</span>(gt)</span>
<span id="cb1-4">dsu01<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">read_csv</span>(<span class="st" style="color: #20794D;">"</span></span>
<span id="cb1-5"><span class="st" style="color: #20794D;">  life</span></span>
<span id="cb1-6"><span class="st" style="color: #20794D;">  26</span></span>
<span id="cb1-7"><span class="st" style="color: #20794D;">  30</span></span>
<span id="cb1-8"><span class="st" style="color: #20794D;">  32</span></span>
<span id="cb1-9"><span class="st" style="color: #20794D;">  30</span></span>
<span id="cb1-10"><span class="st" style="color: #20794D;">  25</span></span>
<span id="cb1-11"><span class="st" style="color: #20794D;">  27</span></span>
<span id="cb1-12"><span class="st" style="color: #20794D;">  24</span></span>
<span id="cb1-13"><span class="st" style="color: #20794D;">  23</span></span>
<span id="cb1-14"><span class="st" style="color: #20794D;">  29</span></span>
<span id="cb1-15"><span class="st" style="color: #20794D;">  29</span></span>
<span id="cb1-16"><span class="st" style="color: #20794D;">  29</span></span>
<span id="cb1-17"><span class="st" style="color: #20794D;">  31</span></span>
<span id="cb1-18"><span class="st" style="color: #20794D;">  38</span></span>
<span id="cb1-19"><span class="st" style="color: #20794D;">  33</span></span>
<span id="cb1-20"><span class="st" style="color: #20794D;">  32</span></span>
<span id="cb1-21"><span class="st" style="color: #20794D;">  29</span></span>
<span id="cb1-22"><span class="st" style="color: #20794D;">  30</span></span>
<span id="cb1-23"><span class="st" style="color: #20794D;">  18</span></span>
<span id="cb1-24"><span class="st" style="color: #20794D;">  28</span></span>
<span id="cb1-25"><span class="st" style="color: #20794D;">  25</span></span>
<span id="cb1-26"><span class="st" style="color: #20794D;">  24</span></span>
<span id="cb1-27"><span class="st" style="color: #20794D;">  23</span></span>
<span id="cb1-28"><span class="st" style="color: #20794D;">  28</span></span>
<span id="cb1-29"><span class="st" style="color: #20794D;">  29</span></span>
<span id="cb1-30"><span class="st" style="color: #20794D;">  27</span></span>
<span id="cb1-31"><span class="st" style="color: #20794D;">  26</span></span>
<span id="cb1-32"><span class="st" style="color: #20794D;">  28</span></span>
<span id="cb1-33"><span class="st" style="color: #20794D;">  28</span></span>
<span id="cb1-34"><span class="st" style="color: #20794D;">  28</span></span>
<span id="cb1-35"><span class="st" style="color: #20794D;">  27</span></span>
<span id="cb1-36"><span class="st" style="color: #20794D;">  "</span>,<span class="at" style="color: #657422;">show_col_types =</span> <span class="cn" style="color: #8f5902;">FALSE</span></span>
<span id="cb1-37">)</span>
<span id="cb1-38">dsu11<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">count</span>(dsu01,life) <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb1-39">  <span class="fu" style="color: #4758AB;">mutate</span>(<span class="at" style="color: #657422;">n=</span>n<span class="sc" style="color: #5E5E5E;">/</span><span class="fu" style="color: #4758AB;">sum</span>(n))</span>
<span id="cb1-40">f1<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">plot_ly</span>(<span class="at" style="color: #657422;">x=</span>dsu11<span class="sc" style="color: #5E5E5E;">$</span>life,<span class="at" style="color: #657422;">y=</span>dsu11<span class="sc" style="color: #5E5E5E;">$</span>n,<span class="at" style="color: #657422;">type=</span><span class="st" style="color: #20794D;">'bar'</span>,<span class="at" style="color: #657422;">name=</span><span class="st" style="color: #20794D;">"Actual"</span>)</span>
<span id="cb1-41">f1</span></code></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-c9be737448bff29d90a6" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-c9be737448bff29d90a6">{"x":{"visdat":{"4e372d996033":["function () ","plotlyVisDat"]},"cur_data":"4e372d996033","attrs":{"4e372d996033":{"x":[18,23,24,25,26,27,28,29,30,31,32,33,38],"y":[0.0333333333333333,0.0666666666666667,0.0666666666666667,0.0666666666666667,0.0666666666666667,0.1,0.166666666666667,0.166666666666667,0.1,0.0333333333333333,0.0666666666666667,0.0333333333333333,0.0333333333333333],"name":"Actual","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":[]},"yaxis":{"domain":[0,1],"automargin":true,"title":[]},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[18,23,24,25,26,27,28,29,30,31,32,33,38],"y":[0.0333333333333333,0.0666666666666667,0.0666666666666667,0.0666666666666667,0.0666666666666667,0.1,0.166666666666667,0.166666666666667,0.1,0.0333333333333333,0.0666666666666667,0.0333333333333333,0.0333333333333333],"name":"Actual","type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="ワイブル分布の確率密度関数" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> ワイブル分布の確率密度関数</h1>
<p>下記式のηとmを最尤推定します。</p>
<p><img src="https://latex.codecogs.com/png.latex?%0Af(t)=%5Cfrac%7Bm%7D%7B%5Ceta%7D%5Cleft(%5Cfrac%7Bt%7D%7B%5Ceta%7D%5Cright)%5E%7Bm-1%7De%5E%7B-%5Cleft(%5Cfrac%7Bt%7D%7B%5Ceta%7D%5Cright)%5Em%7D%0A"></p>
</section>
<section id="rでのワイブル近似" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Rでのワイブル近似</h1>
<section id="パッケージの読み込み" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="パッケージの読み込み"><span class="header-section-number">4.1</span> パッケージの読み込み</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;">library</span>(survival)</span></code></pre></div>
</div>
</section>
<section id="ワイブルのパラメーターを算出" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="ワイブルのパラメーターを算出"><span class="header-section-number">4.2</span> ワイブルのパラメーターを算出</h2>
<p>survregを使う。</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">t<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">survreg</span>(<span class="fu" style="color: #4758AB;">Surv</span>(dsu01<span class="sc" style="color: #5E5E5E;">$</span>life)<span class="sc" style="color: #5E5E5E;">~</span><span class="dv" style="color: #AD0000;">1</span>, <span class="at" style="color: #657422;">dist=</span><span class="st" style="color: #20794D;">"weibull"</span>)</span>
<span id="cb3-2">t</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
survreg(formula = Surv(dsu01$life) ~ 1, dist = "weibull")

Coefficients:
(Intercept) 
   3.382502 

Scale= 0.1275018 

Loglik(model)= -82.8   Loglik(intercept only)= -82.8
n= 30 </code></pre>
</div>
</div>
<p>survregの結果は、上述の確率密度関数のパラメーターとして使うには換算する必要がある。</p>
<p><img src="https://latex.codecogs.com/png.latex?m"></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">m_fit<span class="ot" style="color: #003B4F;">&lt;-</span><span class="dv" style="color: #AD0000;">1</span><span class="sc" style="color: #5E5E5E;">/</span>t<span class="sc" style="color: #5E5E5E;">$</span>scale</span>
<span id="cb5-2">m_fit</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.843027</code></pre>
</div>
</div>
<p><img src="https://latex.codecogs.com/png.latex?%5Ceta"></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">eta_fit<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">exp</span>(<span class="fu" style="color: #4758AB;">unname</span>(t<span class="sc" style="color: #5E5E5E;">$</span>coefficients))</span>
<span id="cb7-2">eta_fit</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 29.44436</code></pre>
</div>
</div>
</section>
<section id="グラフ化" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="グラフ化"><span class="header-section-number">4.3</span> グラフ化</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">tsr<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">c</span>(<span class="dv" style="color: #AD0000;">1</span><span class="sc" style="color: #5E5E5E;">:</span><span class="fu" style="color: #4758AB;">max</span>(dsu01<span class="sc" style="color: #5E5E5E;">$</span>life))</span>
<span id="cb9-2">ttr<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">str_c</span>(<span class="st" style="color: #20794D;">"Scale parameter η: "</span>,<span class="fu" style="color: #4758AB;">as.character</span>(<span class="fu" style="color: #4758AB;">round</span>(eta_fit,<span class="dv" style="color: #AD0000;">3</span>)),<span class="st" style="color: #20794D;">", Shape parameter m: "</span>,<span class="fu" style="color: #4758AB;">as.character</span>(<span class="fu" style="color: #4758AB;">round</span>(m_fit,<span class="dv" style="color: #AD0000;">3</span>)))</span>
<span id="cb9-3">f2<span class="ot" style="color: #003B4F;">&lt;-</span>f1<span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb9-4">  <span class="fu" style="color: #4758AB;">add_trace</span>(<span class="at" style="color: #657422;">x=</span>tsr,<span class="at" style="color: #657422;">y=</span><span class="fu" style="color: #4758AB;">dweibull</span>(tsr,<span class="at" style="color: #657422;">shape=</span>m_fit,<span class="at" style="color: #657422;">scale=</span>eta_fit),<span class="at" style="color: #657422;">type=</span><span class="st" style="color: #20794D;">"scatter"</span>,<span class="at" style="color: #657422;">mode=</span><span class="st" style="color: #20794D;">"line"</span>,<span class="at" style="color: #657422;">name=</span><span class="st" style="color: #20794D;">"Weibull fit"</span>) <span class="sc" style="color: #5E5E5E;">|&gt;</span></span>
<span id="cb9-5">  <span class="fu" style="color: #4758AB;">layout</span>(<span class="at" style="color: #657422;">title=</span><span class="st" style="color: #20794D;">"Weibull fit with 'survival' package - R"</span>) <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb9-6">  <span class="fu" style="color: #4758AB;">add_annotations</span>(</span>
<span id="cb9-7">    <span class="at" style="color: #657422;">x=</span> <span class="fl" style="color: #AD0000;">0.03</span>,</span>
<span id="cb9-8">    <span class="at" style="color: #657422;">y=</span> <span class="fl" style="color: #AD0000;">0.95</span>,</span>
<span id="cb9-9">    <span class="at" style="color: #657422;">xref =</span> <span class="st" style="color: #20794D;">"paper"</span>,</span>
<span id="cb9-10">    <span class="at" style="color: #657422;">yref =</span> <span class="st" style="color: #20794D;">"paper"</span>,</span>
<span id="cb9-11">    <span class="at" style="color: #657422;">text =</span> ttr,</span>
<span id="cb9-12">    <span class="at" style="color: #657422;">showarrow=</span><span class="cn" style="color: #8f5902;">FALSE</span>)</span>
<span id="cb9-13">f2</span></code></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-8742325e24331ea8c4e7" style="width:100%;height:464px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-8742325e24331ea8c4e7">{"x":{"visdat":{"4e372d996033":["function () ","plotlyVisDat"]},"cur_data":"4e372d996033","attrs":{"4e372d996033":{"x":[18,23,24,25,26,27,28,29,30,31,32,33,38],"y":[0.0333333333333333,0.0666666666666667,0.0666666666666667,0.0666666666666667,0.0666666666666667,0.1,0.166666666666667,0.166666666666667,0.1,0.0333333333333333,0.0666666666666667,0.0333333333333333,0.0333333333333333],"name":"Actual","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"4e372d996033.1":{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38],"y":[2.36080690107982e-11,2.7102963089663e-09,4.34524191322055e-08,3.11152298118012e-07,1.43261830177707e-06,4.9884843922803e-06,1.43246293634944e-05,3.57201739928492e-05,7.99700948002782e-05,0.000164435705872815,0.000315606636915471,0.00057219760534081,0.000988761784724131,0.00163972251778677,0.00262357951155215,0.0040667956990806,0.00612646639100528,0.0089902584955136,0.0128712471697354,0.0179941998821949,0.0245687543919534,0.0327443126233732,0.042542343575721,0.0537658319167912,0.0658950008673584,0.0779948838763722,0.0886826273408115,0.0962224246136745,0.0988147196655433,0.0950961152478631,0.0847487025161415,0.0689602695751427,0.0503890289672498,0.0324259110628534,0.0179654543723872,0.00834840667390384,0.00315717307987173,0.000938683705331605],"name":"Weibull fit","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"line","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Weibull fit with 'survival' package - R","annotations":[{"text":"Scale parameter η: 29.444, Shape parameter m: 7.843","x":0.03,"y":0.95,"xref":"paper","yref":"paper","showarrow":false}],"xaxis":{"domain":[0,1],"automargin":true,"title":[]},"yaxis":{"domain":[0,1],"automargin":true,"title":[]},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[18,23,24,25,26,27,28,29,30,31,32,33,38],"y":[0.0333333333333333,0.0666666666666667,0.0666666666666667,0.0666666666666667,0.0666666666666667,0.1,0.166666666666667,0.166666666666667,0.1,0.0333333333333333,0.0666666666666667,0.0333333333333333,0.0333333333333333],"name":"Actual","type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38],"y":[2.36080690107982e-11,2.7102963089663e-09,4.34524191322055e-08,3.11152298118012e-07,1.43261830177707e-06,4.9884843922803e-06,1.43246293634944e-05,3.57201739928492e-05,7.99700948002782e-05,0.000164435705872815,0.000315606636915471,0.00057219760534081,0.000988761784724131,0.00163972251778677,0.00262357951155215,0.0040667956990806,0.00612646639100528,0.0089902584955136,0.0128712471697354,0.0179941998821949,0.0245687543919534,0.0327443126233732,0.042542343575721,0.0537658319167912,0.0658950008673584,0.0779948838763722,0.0886826273408115,0.0962224246136745,0.0988147196655433,0.0950961152478631,0.0847487025161415,0.0689602695751427,0.0503890289672498,0.0324259110628534,0.0179654543723872,0.00834840667390384,0.00315717307987173,0.000938683705331605],"name":"Weibull fit","type":"scatter","mode":"line","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="複数タイプから一気にηとmを計算" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="複数タイプから一気にηとmを計算"><span class="header-section-number">4.4</span> 複数タイプから一気にηとmを計算</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">t3<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">read_csv</span>(<span class="st" style="color: #20794D;">"</span></span>
<span id="cb10-2"><span class="st" style="color: #20794D;">type,life</span></span>
<span id="cb10-3"><span class="st" style="color: #20794D;">a,5</span></span>
<span id="cb10-4"><span class="st" style="color: #20794D;">b,4</span></span>
<span id="cb10-5"><span class="st" style="color: #20794D;">a,5</span></span>
<span id="cb10-6"><span class="st" style="color: #20794D;">a,6</span></span>
<span id="cb10-7"><span class="st" style="color: #20794D;">b,3</span></span>
<span id="cb10-8"><span class="st" style="color: #20794D;">b,2</span></span>
<span id="cb10-9"><span class="st" style="color: #20794D;">a,4</span></span>
<span id="cb10-10"><span class="st" style="color: #20794D;">b,2</span></span>
<span id="cb10-11"><span class="st" style="color: #20794D;">"</span>,<span class="at" style="color: #657422;">show_col_types =</span> <span class="cn" style="color: #8f5902;">FALSE</span>)</span>
<span id="cb10-12"></span>
<span id="cb10-13">t4<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">split</span>(t3,t3<span class="sc" style="color: #5E5E5E;">$</span>type)</span>
<span id="cb10-14"></span>
<span id="cb10-15">mm2<span class="ot" style="color: #003B4F;">&lt;-</span><span class="cf" style="color: #003B4F;">function</span>(i){</span>
<span id="cb10-16">  t<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">survreg</span>(<span class="fu" style="color: #4758AB;">Surv</span>(i<span class="sc" style="color: #5E5E5E;">$</span>life)<span class="sc" style="color: #5E5E5E;">~</span><span class="dv" style="color: #AD0000;">1</span>, <span class="at" style="color: #657422;">dist=</span><span class="st" style="color: #20794D;">"weibull"</span>)</span>
<span id="cb10-17">  t1<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">tibble</span>(<span class="at" style="color: #657422;">eta=</span><span class="fu" style="color: #4758AB;">exp</span>(<span class="fu" style="color: #4758AB;">unname</span>(t<span class="sc" style="color: #5E5E5E;">$</span>coefficients)),<span class="at" style="color: #657422;">m=</span><span class="dv" style="color: #AD0000;">1</span><span class="sc" style="color: #5E5E5E;">/</span>t<span class="sc" style="color: #5E5E5E;">$</span>scale)</span>
<span id="cb10-18">  <span class="fu" style="color: #4758AB;">return</span>(t1)</span>
<span id="cb10-19">}</span>
<span id="cb10-20"></span>
<span id="cb10-21">qq3<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">map</span>(t4,mm2) <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb10-22">  <span class="fu" style="color: #4758AB;">bind_rows</span>(<span class="at" style="color: #657422;">.id=</span><span class="st" style="color: #20794D;">"id"</span>) <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb10-23">  <span class="fu" style="color: #4758AB;">rename</span>(<span class="at" style="color: #657422;">type=</span>id) <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb10-24">  <span class="fu" style="color: #4758AB;">arrange</span>(type)</span>
<span id="cb10-25"><span class="fu" style="color: #4758AB;">gt</span>(qq3)</span></code></pre></div>
<div class="cell-output-display">

<div id="zjfcslrfpp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#zjfcslrfpp) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#zjfcslrfpp) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#zjfcslrfpp) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#zjfcslrfpp) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#zjfcslrfpp) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#zjfcslrfpp) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#zjfcslrfpp) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#zjfcslrfpp) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#zjfcslrfpp) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#zjfcslrfpp) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#zjfcslrfpp) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#zjfcslrfpp) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#zjfcslrfpp) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#zjfcslrfpp) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#zjfcslrfpp) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#zjfcslrfpp) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#zjfcslrfpp) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#zjfcslrfpp) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#zjfcslrfpp) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#zjfcslrfpp) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#zjfcslrfpp) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#zjfcslrfpp) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#zjfcslrfpp) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#zjfcslrfpp) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#zjfcslrfpp) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#zjfcslrfpp) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#zjfcslrfpp) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#zjfcslrfpp) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#zjfcslrfpp) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#zjfcslrfpp) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#zjfcslrfpp) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#zjfcslrfpp) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#zjfcslrfpp) .gt_left {
  text-align: left;
}

:where(#zjfcslrfpp) .gt_center {
  text-align: center;
}

:where(#zjfcslrfpp) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#zjfcslrfpp) .gt_font_normal {
  font-weight: normal;
}

:where(#zjfcslrfpp) .gt_font_bold {
  font-weight: bold;
}

:where(#zjfcslrfpp) .gt_font_italic {
  font-style: italic;
}

:where(#zjfcslrfpp) .gt_super {
  font-size: 65%;
}

:where(#zjfcslrfpp) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#zjfcslrfpp) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#zjfcslrfpp) .gt_indent_1 {
  text-indent: 5px;
}

:where(#zjfcslrfpp) .gt_indent_2 {
  text-indent: 10px;
}

:where(#zjfcslrfpp) .gt_indent_3 {
  text-indent: 15px;
}

:where(#zjfcslrfpp) .gt_indent_4 {
  text-indent: 20px;
}

:where(#zjfcslrfpp) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="type">type</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="eta">eta</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="m">m</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="type" class="gt_row gt_left">a</td>
<td headers="eta" class="gt_row gt_right">5.308623</td>
<td headers="m" class="gt_row gt_right">7.975578</td></tr>
    <tr><td headers="type" class="gt_row gt_left">b</td>
<td headers="eta" class="gt_row gt_right">3.058647</td>
<td headers="m" class="gt_row gt_right">3.613229</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="r-version" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="r-version"><span class="header-section-number">4.5</span> R version</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">R.version.string</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "R version 4.2.2 (2022-10-31)"</code></pre>
</div>
</div>
</section>
</section>
<section id="pythonでのワイブル近似" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Pythonでのワイブル近似</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><span class="im" style="color: #00769E;">import</span> numpy <span class="im" style="color: #00769E;">as</span> np</span>
<span id="cb13-2"><span class="im" style="color: #00769E;">import</span> pandas <span class="im" style="color: #00769E;">as</span> pd</span>
<span id="cb13-3"><span class="im" style="color: #00769E;">from</span> reliability.Fitters <span class="im" style="color: #00769E;">import</span> Fit_Weibull_2P</span>
<span id="cb13-4"><span class="im" style="color: #00769E;">import</span> plotly.graph_objects <span class="im" style="color: #00769E;">as</span> go</span></code></pre></div>
</div>
<section id="関数定義" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="関数定義"><span class="header-section-number">5.1</span> 関数定義</h2>
<p>pythonはワイブル関数の自作が必要</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><span class="kw" style="color: #003B4F;">def</span> weibull_d(m,t,eta):</span>
<span id="cb14-2">  k<span class="op" style="color: #5E5E5E;">=</span>(m<span class="op" style="color: #5E5E5E;">/</span>eta)<span class="op" style="color: #5E5E5E;">*</span>(t<span class="op" style="color: #5E5E5E;">/</span>eta)<span class="op" style="color: #5E5E5E;">**</span>(m<span class="op" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">1</span>)<span class="op" style="color: #5E5E5E;">*</span>np.exp(<span class="op" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">1</span><span class="op" style="color: #5E5E5E;">*</span>((t<span class="op" style="color: #5E5E5E;">/</span>eta)<span class="op" style="color: #5E5E5E;">**</span>m))</span>
<span id="cb14-3">  <span class="cf" style="color: #003B4F;">return</span> k</span></code></pre></div>
</div>
</section>
<section id="フィット" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="フィット"><span class="header-section-number">5.2</span> フィット</h2>
<p>結果詳細。Alphaは尺度パラメーターη、Betaは形状パラメーターmに相当する。</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1">dsu02<span class="op" style="color: #5E5E5E;">=</span>r.dsu01</span>
<span id="cb15-2">life_max<span class="op" style="color: #5E5E5E;">=</span><span class="bu" style="color: null;">int</span>(<span class="bu" style="color: null;">max</span>(dsu02[<span class="st" style="color: #20794D;">'life'</span>]))</span>
<span id="cb15-3">dsu03<span class="op" style="color: #5E5E5E;">=</span>dsu02[<span class="st" style="color: #20794D;">'life'</span>].values.tolist()</span>
<span id="cb15-4">wb2 <span class="op" style="color: #5E5E5E;">=</span> Fit_Weibull_2P(failures<span class="op" style="color: #5E5E5E;">=</span>dsu03)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1m[23m[4m[49m[39mResults from Fit_Weibull_2P (95% CI):[0m
Analysis method: Maximum Likelihood Estimation (MLE)
Optimizer: TNC
Failures / Right censored: 30/0 (0% right censored) 

Parameter  Point Estimate  Standard Error  Lower CI  Upper CI
    Alpha         29.4443        0.725964   28.0553   30.9021
     Beta         7.84309          1.0011   6.10715   10.0725 

Goodness of fit    Value
 Log-likelihood -82.7942
           AICc  170.033
            BIC  172.391
             AD   1.2344 </code></pre>
</div>
</div>
</section>
<section id="グラフ化-1" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="グラフ化-1"><span class="header-section-number">5.3</span> グラフ化</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1">tt<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"Scale parameter η: "</span><span class="op" style="color: #5E5E5E;">+</span><span class="bu" style="color: null;">str</span>(<span class="bu" style="color: null;">round</span>(wb2.alpha,<span class="dv" style="color: #AD0000;">3</span>))<span class="op" style="color: #5E5E5E;">+</span><span class="st" style="color: #20794D;">", Shape parameter m: "</span><span class="op" style="color: #5E5E5E;">+</span><span class="bu" style="color: null;">str</span>(<span class="bu" style="color: null;">round</span>(wb2.beta,<span class="dv" style="color: #AD0000;">3</span>))</span>
<span id="cb17-2">ts<span class="op" style="color: #5E5E5E;">=</span>np.arange(<span class="dv" style="color: #AD0000;">1</span>,life_max<span class="op" style="color: #5E5E5E;">+</span><span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb17-3">ta<span class="op" style="color: #5E5E5E;">=</span>r.dsu11</span>
<span id="cb17-4">fig0201<span class="op" style="color: #5E5E5E;">=</span>go.Bar(</span>
<span id="cb17-5">        x<span class="op" style="color: #5E5E5E;">=</span>ta[<span class="st" style="color: #20794D;">'life'</span>], y<span class="op" style="color: #5E5E5E;">=</span>ta[<span class="st" style="color: #20794D;">"n"</span>],name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'Actual'</span>,</span>
<span id="cb17-6">        marker<span class="op" style="color: #5E5E5E;">=</span>{<span class="st" style="color: #20794D;">"color"</span>: <span class="st" style="color: #20794D;">"blue"</span>}</span>
<span id="cb17-7">        )</span>
<span id="cb17-8">fig0202<span class="op" style="color: #5E5E5E;">=</span>go.Scatter(</span>
<span id="cb17-9">        x<span class="op" style="color: #5E5E5E;">=</span>ts, y<span class="op" style="color: #5E5E5E;">=</span>weibull_d(wb2.beta,ts,wb2.alpha), name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'Weibull fit'</span>,</span>
<span id="cb17-10">        line<span class="op" style="color: #5E5E5E;">=</span>{<span class="st" style="color: #20794D;">"color"</span>: <span class="st" style="color: #20794D;">"orange"</span>},</span>
<span id="cb17-11">    )</span>
<span id="cb17-12">layout<span class="op" style="color: #5E5E5E;">=</span>go.Layout(</span>
<span id="cb17-13">        title<span class="op" style="color: #5E5E5E;">=</span>{<span class="st" style="color: #20794D;">"text"</span>:<span class="st" style="color: #20794D;">"Weibull fit with 'leliability' package - Python "</span>})</span>
<span id="cb17-14">fig04<span class="op" style="color: #5E5E5E;">=</span>go.Figure(data<span class="op" style="color: #5E5E5E;">=</span>[fig0201,fig0202],layout<span class="op" style="color: #5E5E5E;">=</span>layout)</span>
<span id="cb17-15">fig04<span class="op" style="color: #5E5E5E;">=</span>fig04.update_layout(annotations<span class="op" style="color: #5E5E5E;">=</span>[</span>
<span id="cb17-16">  go.layout.Annotation(</span>
<span id="cb17-17">    xref<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"paper"</span>,</span>
<span id="cb17-18">    yref<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"paper"</span>,</span>
<span id="cb17-19">    x<span class="op" style="color: #5E5E5E;">=</span><span class="fl" style="color: #AD0000;">0.03</span>,</span>
<span id="cb17-20">    y<span class="op" style="color: #5E5E5E;">=</span><span class="fl" style="color: #AD0000;">0.95</span>,</span>
<span id="cb17-21">    showarrow<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">False</span>,</span>
<span id="cb17-22">    text<span class="op" style="color: #5E5E5E;">=</span>tt</span>
<span id="cb17-23">)</span>
<span id="cb17-24">])</span>
<span id="cb17-25">fig04</span></code></pre></div>
<div class="cell-output-display">

<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.14.0.min.js"></script>                <div id="18c0271f-863b-443f-88cd-a7ba2ae78f60" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("18c0271f-863b-443f-88cd-a7ba2ae78f60")) {                    Plotly.newPlot(                        "18c0271f-863b-443f-88cd-a7ba2ae78f60",                        [{"marker":{"color":"blue"},"name":"Actual","x":[18.0,23.0,24.0,25.0,26.0,27.0,28.0,29.0,30.0,31.0,32.0,33.0,38.0],"y":[0.03333333333333333,0.06666666666666667,0.06666666666666667,0.06666666666666667,0.06666666666666667,0.1,0.16666666666666666,0.16666666666666666,0.1,0.03333333333333333,0.06666666666666667,0.03333333333333333,0.03333333333333333],"type":"bar"},{"line":{"color":"orange"},"name":"Weibull fit","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38],"y":[2.3603647205229035e-11,2.70989924318654e-09,4.3447090270328395e-08,3.1111940833902903e-07,1.4324856868732698e-06,4.988076155408163e-06,1.4323587086074086e-05,3.57178557778649e-05,7.996545952267937e-05,0.00016442719564795858,0.00031559207726503927,0.0005721741501167854,0.0009887259418808237,0.00163967030273535,0.002623506786601822,0.004066698768314312,0.006126342924757822,0.008990108847137654,0.012871076101616872,0.01799401861080236,0.0245685826589744,0.03274418017320569,0.04254228997800542,0.053765903224282555,0.06589524143643388,0.077995322338321,0.08868325788843621,0.09622318883542105,0.09881549917759531,0.09509674792738157,0.08474902955339221,0.06896020294652007,0.05038860530568975,0.032425288986882544,0.01796484049038012,0.008347952365732091,0.0031569167438248477,0.0009385748273398316],"type":"scatter"}],                        {"title":{"text":"Weibull fit with 'leliability' package - Python "},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"annotations":[{"showarrow":false,"text":"Scale parameter \u03b7: 29.444, Shape parameter m: 7.843","x":0.03,"xref":"paper","y":0.95,"yref":"paper"}]},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
</div>
</section>
<section id="複数タイプから一気にηとmを計算-1" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="複数タイプから一気にηとmを計算-1"><span class="header-section-number">5.4</span> 複数タイプから一気にηとmを計算</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1">pt1<span class="op" style="color: #5E5E5E;">=</span>pd.DataFrame([</span>
<span id="cb18-2">[<span class="st" style="color: #20794D;">"a"</span>,<span class="dv" style="color: #AD0000;">5</span>],</span>
<span id="cb18-3">[<span class="st" style="color: #20794D;">"b"</span>,<span class="dv" style="color: #AD0000;">4</span>],</span>
<span id="cb18-4">[<span class="st" style="color: #20794D;">"a"</span>,<span class="dv" style="color: #AD0000;">5</span>],</span>
<span id="cb18-5">[<span class="st" style="color: #20794D;">"a"</span>,<span class="dv" style="color: #AD0000;">6</span>],</span>
<span id="cb18-6">[<span class="st" style="color: #20794D;">"b"</span>,<span class="dv" style="color: #AD0000;">3</span>],</span>
<span id="cb18-7">[<span class="st" style="color: #20794D;">"b"</span>,<span class="dv" style="color: #AD0000;">2</span>],</span>
<span id="cb18-8">[<span class="st" style="color: #20794D;">"a"</span>,<span class="dv" style="color: #AD0000;">4</span>],</span>
<span id="cb18-9">[<span class="st" style="color: #20794D;">"b"</span>,<span class="dv" style="color: #AD0000;">2</span>]</span>
<span id="cb18-10">])</span>
<span id="cb18-11">pt1.columns<span class="op" style="color: #5E5E5E;">=</span>[<span class="st" style="color: #20794D;">"type"</span>,<span class="st" style="color: #20794D;">"life"</span>]</span>
<span id="cb18-12">pt2<span class="op" style="color: #5E5E5E;">=</span>pt1.drop_duplicates(<span class="st" style="color: #20794D;">"type"</span>)</span></code></pre></div>
</div>
<section id="タイプごとの結果" class="level3" data-number="5.4.1">
<h3 data-number="5.4.1" class="anchored" data-anchor-id="タイプごとの結果"><span class="header-section-number">5.4.1</span> タイプごとの結果</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><span class="kw" style="color: #003B4F;">def</span> mp(i):</span>
<span id="cb19-2">  <span class="bu" style="color: null;">print</span>(<span class="st" style="color: #20794D;">"type: "</span><span class="op" style="color: #5E5E5E;">+</span>i)</span>
<span id="cb19-3">  dpu01<span class="op" style="color: #5E5E5E;">=</span>pt1.loc[pt1[<span class="st" style="color: #20794D;">"type"</span>]<span class="op" style="color: #5E5E5E;">==</span>i]</span>
<span id="cb19-4">  dpu02<span class="op" style="color: #5E5E5E;">=</span>dpu01[<span class="st" style="color: #20794D;">'life'</span>].values.tolist()</span>
<span id="cb19-5">  wb21 <span class="op" style="color: #5E5E5E;">=</span> Fit_Weibull_2P(failures<span class="op" style="color: #5E5E5E;">=</span>dpu02)</span>
<span id="cb19-6">  dpu03<span class="op" style="color: #5E5E5E;">=</span>pd.DataFrame({<span class="st" style="color: #20794D;">"type"</span>:[i],<span class="st" style="color: #20794D;">"eta"</span>:[wb21.alpha],<span class="st" style="color: #20794D;">"m"</span>:[wb21.beta]})</span>
<span id="cb19-7">  <span class="cf" style="color: #003B4F;">return</span> dpu03</span>
<span id="cb19-8"></span>
<span id="cb19-9">dpu04<span class="op" style="color: #5E5E5E;">=</span>pd.concat((mp(r) <span class="cf" style="color: #003B4F;">for</span> r <span class="kw" style="color: #003B4F;">in</span> pt2[<span class="st" style="color: #20794D;">"type"</span>]),ignore_index<span class="op" style="color: #5E5E5E;">=</span><span class="va" style="color: #111111;">True</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>type: a
[1m[23m[4m[49m[39mResults from Fit_Weibull_2P (95% CI):[0m
Analysis method: Maximum Likelihood Estimation (MLE)
Optimizer: TNC
Failures / Right censored: 4/0 (0% right censored) 

Parameter  Point Estimate  Standard Error  Lower CI  Upper CI
    Alpha         5.30868        0.351929   4.66185   6.04527
     Beta         7.97623          3.1118   3.71291   17.1349 

Goodness of fit    Value
 Log-likelihood -4.32774
           AICc  24.6555
            BIC  11.4281
             AD  3.03487 

type: b
[1m[23m[4m[49m[39mResults from Fit_Weibull_2P (95% CI):[0m
Analysis method: Maximum Likelihood Estimation (MLE)
Optimizer: TNC
Failures / Right censored: 4/0 (0% right censored) 

Parameter  Point Estimate  Standard Error  Lower CI  Upper CI
    Alpha         3.05865        0.449056   2.29382   4.07848
     Beta         3.61323         1.39996   1.69081   7.72139 

Goodness of fit    Value
 Log-likelihood -4.90322
           AICc  25.8064
            BIC   12.579
             AD  3.02246 </code></pre>
</div>
</div>
</section>
<section id="まとめ結果" class="level3" data-number="5.4.2">
<h3 data-number="5.4.2" class="anchored" data-anchor-id="まとめ結果"><span class="header-section-number">5.4.2</span> まとめ結果</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1">dpu04</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  type     eta       m
0    a 5.30868 7.97623
1    b 3.05865 3.61323</code></pre>
</div>
</div>
</section>
</section>
<section id="参考サイト" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="参考サイト"><span class="header-section-number">5.5</span> 参考サイト</h2>
<p><a href="https://reliability.readthedocs.io/en/latest/Fitting%20a%20specific%20distribution%20to%20data.html">Python package reliability - Fitting a specific distribution to data</a></p>


<!-- -->

</section>
</section>

 ]]></description>
  <category>R</category>
  <category>Python</category>
  <guid>https://nobukuni-hyakutake.github.io/statistics/posts/survival/index.html</guid>
  <pubDate>Sun, 19 Feb 2023 15:00:00 GMT</pubDate>
  <media:content url="https://nobukuni-hyakutake.github.io/statistics/posts/survival/aqua.jpeg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>統計学基礎</title>
  <dc:creator>Nobukuni Hyakutake</dc:creator>
  <link>https://nobukuni-hyakutake.github.io/statistics/posts/standard_deviation/index.html</link>
  <description><![CDATA[ 




<p><img src="https://nobukuni-hyakutake.github.io/statistics/posts/standard_deviation/sd.png" class="img-fluid"></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">library</span>(tidyverse)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;">library</span>(gt)</span></code></pre></div>
</div>
<section id="偏差平方和" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="偏差平方和"><span class="header-section-number">1</span> 偏差平方和</h2>
<p><img src="https://latex.codecogs.com/png.latex?%5Cdisplaystyle%5Csum%5E%7Bn%7D_%7Bi=1%7D(x_i-%5Coverline%7Bx%7D)%5E2"></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">daa01<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">c</span>(<span class="dv" style="color: #AD0000;">5</span>,<span class="dv" style="color: #AD0000;">6</span>,<span class="dv" style="color: #AD0000;">3</span>,<span class="dv" style="color: #AD0000;">5</span>,<span class="dv" style="color: #AD0000;">5</span>,<span class="dv" style="color: #AD0000;">4</span>,<span class="dv" style="color: #AD0000;">5</span>,<span class="dv" style="color: #AD0000;">4</span>)</span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;">sum</span>(</span>
<span id="cb2-3">  (daa01<span class="sc" style="color: #5E5E5E;">-</span><span class="fu" style="color: #4758AB;">mean</span>(daa01))<span class="sc" style="color: #5E5E5E;">^</span><span class="dv" style="color: #AD0000;">2</span></span>
<span id="cb2-4">  )</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.875</code></pre>
</div>
</div>
</section>
<section id="分散-標本分散" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="分散-標本分散"><span class="header-section-number">2</span> 分散 (標本分散)</h2>
<p><img src="https://latex.codecogs.com/png.latex?s%5E2=%5Cfrac%20%7B%5Cdisplaystyle%5Csum%5E%7Bn%7D_%7Bi=1%7D(x_i-%5Coverline%7Bx%7D)%5E2%7D%20%7Bn%7D"></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;">sum</span>(</span>
<span id="cb4-2">  (daa01<span class="sc" style="color: #5E5E5E;">-</span><span class="fu" style="color: #4758AB;">mean</span>(daa01))<span class="sc" style="color: #5E5E5E;">^</span><span class="dv" style="color: #AD0000;">2</span></span>
<span id="cb4-3">  )<span class="sc" style="color: #5E5E5E;">/</span></span>
<span id="cb4-4">  <span class="fu" style="color: #4758AB;">length</span>(daa01)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.734375</code></pre>
</div>
</div>
<p>or</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;">var</span>(daa01)<span class="sc" style="color: #5E5E5E;">*</span>(<span class="fu" style="color: #4758AB;">length</span>(daa01)<span class="sc" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">1</span>)<span class="sc" style="color: #5E5E5E;">/</span><span class="fu" style="color: #4758AB;">length</span>(daa01)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.734375</code></pre>
</div>
</div>
</section>
<section id="標準偏差標本分散の平方根" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="標準偏差標本分散の平方根"><span class="header-section-number">3</span> 標準偏差(標本分散の平方根)</h2>
<p><img src="https://latex.codecogs.com/png.latex?s=%5Csqrt%7B%5Cfrac%20%7B%5Cdisplaystyle%5Csum%5E%7Bn%7D_%7Bi=1%7D(x_i-%5Coverline%7Bx%7D)%5E2%7D%20%7Bn%7D%7D"></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;">sqrt</span>(</span>
<span id="cb8-2">  <span class="fu" style="color: #4758AB;">var</span>(daa01)<span class="sc" style="color: #5E5E5E;">*</span>(<span class="fu" style="color: #4758AB;">length</span>(daa01)<span class="sc" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">1</span>)<span class="sc" style="color: #5E5E5E;">/</span><span class="fu" style="color: #4758AB;">length</span>(daa01)</span>
<span id="cb8-3">  )</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8569568</code></pre>
</div>
</div>
<p>or</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="fu" style="color: #4758AB;">sd</span>(daa01)<span class="sc" style="color: #5E5E5E;">*</span></span>
<span id="cb10-2">  <span class="fu" style="color: #4758AB;">sqrt</span>(</span>
<span id="cb10-3">  (<span class="fu" style="color: #4758AB;">length</span>(daa01)<span class="sc" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">1</span>)<span class="sc" style="color: #5E5E5E;">/</span><span class="fu" style="color: #4758AB;">length</span>(daa01)</span>
<span id="cb10-4">)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8569568</code></pre>
</div>
</div>
</section>
<section id="変動係数" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="変動係数"><span class="header-section-number">4</span> 変動係数</h2>
<p><img src="https://latex.codecogs.com/png.latex?C.V.=%5Cfrac%20%7Bs%7D%20%7B%5Coverline%7Bx%7D%7D"></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="fu" style="color: #4758AB;">sd</span>(daa01)<span class="sc" style="color: #5E5E5E;">*</span></span>
<span id="cb12-2">  <span class="fu" style="color: #4758AB;">sqrt</span>(</span>
<span id="cb12-3">  (<span class="fu" style="color: #4758AB;">length</span>(daa01)<span class="sc" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">1</span>)<span class="sc" style="color: #5E5E5E;">/</span><span class="fu" style="color: #4758AB;">length</span>(daa01)</span>
<span id="cb12-4">)<span class="sc" style="color: #5E5E5E;">/</span></span>
<span id="cb12-5">  <span class="fu" style="color: #4758AB;">mean</span>(daa01)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.185288</code></pre>
</div>
</div>
</section>
<section id="相関係数" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="相関係数"><span class="header-section-number">5</span> 相関係数</h2>
<p><img src="https://latex.codecogs.com/png.latex?r=%5Cfrac%20%7B%5Cdisplaystyle%5Csum%5E%7Bn%7D_%7Bi=1%7D(x_i-%5Coverline%7Bx%7D)%20(y_i-%5Coverline%7By%7D)%7D%20%7B%5Csqrt%7B%20%7B%5Cdisplaystyle%5Csum%5E%7Bn%7D_%7Bi=1%7D(x_i-%5Coverline%7Bx%7D)%5E2%7D%7D%20%5Csqrt%7B%20%7B%5Cdisplaystyle%5Csum%5E%7Bn%7D_%7Bi=1%7D(y_i-%5Coverline%7By%7D)%5E2%7D%7D%7D"></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1">daa02<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">c</span>(<span class="dv" style="color: #AD0000;">7</span>,<span class="dv" style="color: #AD0000;">8</span>,<span class="dv" style="color: #AD0000;">3</span>,<span class="dv" style="color: #AD0000;">5</span>,<span class="dv" style="color: #AD0000;">4</span>,<span class="dv" style="color: #AD0000;">3</span>,<span class="dv" style="color: #AD0000;">8</span>,<span class="dv" style="color: #AD0000;">6</span>)</span>
<span id="cb14-2"><span class="fu" style="color: #4758AB;">cor</span>(daa01,daa02,<span class="at" style="color: #657422;">method=</span><span class="st" style="color: #20794D;">"pearson"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.7155814</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><span class="fu" style="color: #4758AB;">plot</span>(daa01,daa02)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://nobukuni-hyakutake.github.io/statistics/posts/standard_deviation/index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="正規分布" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="正規分布"><span class="header-section-number">6</span> 正規分布</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><span class="fu" style="color: #4758AB;">curve</span>(<span class="fu" style="color: #4758AB;">dnorm</span>(x,<span class="at" style="color: #657422;">mean=</span><span class="dv" style="color: #AD0000;">0</span>,<span class="at" style="color: #657422;">sd=</span><span class="dv" style="color: #AD0000;">1</span>),<span class="at" style="color: #657422;">from=</span><span class="sc" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">4</span>,<span class="at" style="color: #657422;">to=</span><span class="dv" style="color: #AD0000;">4</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://nobukuni-hyakutake.github.io/statistics/posts/standard_deviation/index_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="ヒストグラム" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="ヒストグラム"><span class="header-section-number">7</span> ヒストグラム</h2>
<section id="グラフ" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="グラフ"><span class="header-section-number">7.1</span> グラフ</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1">daa03<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">hist</span>(daa01)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://nobukuni-hyakutake.github.io/statistics/posts/standard_deviation/index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="度数分布表" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="度数分布表"><span class="header-section-number">7.2</span> 度数分布表</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="fu" style="color: #4758AB;">tibble</span>(<span class="at" style="color: #657422;">mids=</span>daa03<span class="sc" style="color: #5E5E5E;">$</span>mids,<span class="at" style="color: #657422;">counts=</span>daa03<span class="sc" style="color: #5E5E5E;">$</span>counts,<span class="at" style="color: #657422;">density=</span>daa03<span class="sc" style="color: #5E5E5E;">$</span>density) <span class="sc" style="color: #5E5E5E;">|&gt;</span> </span>
<span id="cb19-2">  <span class="fu" style="color: #4758AB;">gt</span>() <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb19-3">  <span class="fu" style="color: #4758AB;">tab_header</span>(</span>
<span id="cb19-4">    <span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">"Frequency table"</span>,</span>
<span id="cb19-5">    <span class="at" style="color: #657422;">subtitle =</span> <span class="st" style="color: #20794D;">"daa01"</span></span>
<span id="cb19-6">  )</span></code></pre></div>
<div class="cell-output-display">

<div id="tfnsvogbhn" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#tfnsvogbhn) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#tfnsvogbhn) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#tfnsvogbhn) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#tfnsvogbhn) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#tfnsvogbhn) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#tfnsvogbhn) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#tfnsvogbhn) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#tfnsvogbhn) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#tfnsvogbhn) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#tfnsvogbhn) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#tfnsvogbhn) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#tfnsvogbhn) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#tfnsvogbhn) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#tfnsvogbhn) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#tfnsvogbhn) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#tfnsvogbhn) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#tfnsvogbhn) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#tfnsvogbhn) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#tfnsvogbhn) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#tfnsvogbhn) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#tfnsvogbhn) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#tfnsvogbhn) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#tfnsvogbhn) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#tfnsvogbhn) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#tfnsvogbhn) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#tfnsvogbhn) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#tfnsvogbhn) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#tfnsvogbhn) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#tfnsvogbhn) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#tfnsvogbhn) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#tfnsvogbhn) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#tfnsvogbhn) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#tfnsvogbhn) .gt_left {
  text-align: left;
}

:where(#tfnsvogbhn) .gt_center {
  text-align: center;
}

:where(#tfnsvogbhn) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#tfnsvogbhn) .gt_font_normal {
  font-weight: normal;
}

:where(#tfnsvogbhn) .gt_font_bold {
  font-weight: bold;
}

:where(#tfnsvogbhn) .gt_font_italic {
  font-style: italic;
}

:where(#tfnsvogbhn) .gt_super {
  font-size: 65%;
}

:where(#tfnsvogbhn) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#tfnsvogbhn) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#tfnsvogbhn) .gt_indent_1 {
  text-indent: 5px;
}

:where(#tfnsvogbhn) .gt_indent_2 {
  text-indent: 10px;
}

:where(#tfnsvogbhn) .gt_indent_3 {
  text-indent: 15px;
}

:where(#tfnsvogbhn) .gt_indent_4 {
  text-indent: 20px;
}

:where(#tfnsvogbhn) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  <thead class="gt_header">
    <tr>
      <td colspan="3" class="gt_heading gt_title gt_font_normal" style="">Frequency table</td>
    </tr>
    <tr>
      <td colspan="3" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">daa01</td>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mids">mids</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="counts">counts</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="density">density</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="mids" class="gt_row gt_right">3.5</td>
<td headers="counts" class="gt_row gt_right">3</td>
<td headers="density" class="gt_row gt_right">0.375</td></tr>
    <tr><td headers="mids" class="gt_row gt_right">4.5</td>
<td headers="counts" class="gt_row gt_right">4</td>
<td headers="density" class="gt_row gt_right">0.500</td></tr>
    <tr><td headers="mids" class="gt_row gt_right">5.5</td>
<td headers="counts" class="gt_row gt_right">1</td>
<td headers="density" class="gt_row gt_right">0.125</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>


<!-- -->

</section>
</section>

 ]]></description>
  <category>STATISTICS</category>
  <guid>https://nobukuni-hyakutake.github.io/statistics/posts/standard_deviation/index.html</guid>
  <pubDate>Thu, 09 Feb 2023 15:00:00 GMT</pubDate>
  <media:content url="https://nobukuni-hyakutake.github.io/statistics/posts/standard_deviation/sd.png" medium="image" type="image/png" height="86" width="86"/>
</item>
<item>
  <title>Rを電卓として使う</title>
  <dc:creator>Nobukuni Hyakutake</dc:creator>
  <link>https://nobukuni-hyakutake.github.io/statistics/posts/calculator_R/index.html</link>
  <description><![CDATA[ 




<section id="データの型" class="level2">
<h2 class="anchored" data-anchor-id="データの型">データの型</h2>
<p>実数(numeric)、複素数(complex)、文字・文字列(character)、論理値(logical)、空値(NULL)がある。</p>
</section>
<section id="データの構造" class="level2">
<h2 class="anchored" data-anchor-id="データの構造">データの構造</h2>
<pre><code>&gt; x&lt;-1    #xに1を代入
&gt; x    #xを表示
&gt; [1] 1    #出力結果</code></pre>
</section>
<section id="四則演算" class="level2">
<h2 class="anchored" data-anchor-id="四則演算">四則演算</h2>
<table class="table">
<thead>
<tr class="header">
<th>内容</th>
<th>記号</th>
<th>例</th>
<th>結果</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>足し算</td>
<td><code>+</code></td>
<td><code>5+6</code></td>
<td><code>11</code></td>
</tr>
<tr class="even">
<td>引き算</td>
<td><code>-</code></td>
<td><code>8-3</code></td>
<td><code>5</code></td>
</tr>
<tr class="odd">
<td>掛け算</td>
<td><code>*</code></td>
<td><code>3*4</code></td>
<td><code>12</code></td>
</tr>
<tr class="even">
<td>割り算</td>
<td><code>/</code></td>
<td><code>12/2</code></td>
<td><code>6</code></td>
</tr>
</tbody>
</table>
</section>
<section id="r-version" class="level2">
<h2 class="anchored" data-anchor-id="r-version">R version</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">R.version.string</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "R version 4.2.2 (2022-10-31)"</code></pre>
</div>
</div>


</section>
<iframe width="300" height="30" src="https://nobukuni-hyakutake.github.io/see_you_again.html" title="Quarto Documentation"></iframe>
 ]]></description>
  <category>R</category>
  <guid>https://nobukuni-hyakutake.github.io/statistics/posts/calculator_R/index.html</guid>
  <pubDate>Sun, 29 Jan 2023 15:00:00 GMT</pubDate>
  <media:content url="https://nobukuni-hyakutake.github.io/statistics/posts/calculator_R/calc.jpeg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Pythonを電卓として使う</title>
  <dc:creator>Nobukuni Hyakutake</dc:creator>
  <link>https://nobukuni-hyakutake.github.io/statistics/posts/calculator/index.html</link>
  <description><![CDATA[ 




<section id="足し算" class="level2">
<h2 class="anchored" data-anchor-id="足し算">足し算</h2>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="dv" style="color: #AD0000;">1</span><span class="op" style="color: #5E5E5E;">+</span><span class="dv" style="color: #AD0000;">1</span></span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>2</code></pre>
</div>
</div>
</section>
<section id="引き算" class="level2">
<h2 class="anchored" data-anchor-id="引き算">引き算</h2>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><span class="dv" style="color: #AD0000;">8</span><span class="op" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">5</span></span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>3</code></pre>
</div>
</div>
</section>
<section id="掛け算" class="level2">
<h2 class="anchored" data-anchor-id="掛け算">掛け算</h2>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><span class="dv" style="color: #AD0000;">8</span><span class="op" style="color: #5E5E5E;">*</span><span class="dv" style="color: #AD0000;">7</span></span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>56</code></pre>
</div>
</div>
</section>
<section id="割り算" class="level2">
<h2 class="anchored" data-anchor-id="割り算">割り算</h2>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><span class="dv" style="color: #AD0000;">12</span><span class="op" style="color: #5E5E5E;">/</span><span class="dv" style="color: #AD0000;">6</span></span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>2.0</code></pre>
</div>
</div>
</section>
<section id="割り算の剰余" class="level2">
<h2 class="anchored" data-anchor-id="割り算の剰余">割り算の剰余</h2>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><span class="dv" style="color: #AD0000;">23</span><span class="op" style="color: #5E5E5E;">%</span><span class="dv" style="color: #AD0000;">7</span></span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>2</code></pre>
</div>
</div>
</section>
<section id="冪" class="level2">
<h2 class="anchored" data-anchor-id="冪">冪</h2>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><span class="dv" style="color: #AD0000;">2</span><span class="op" style="color: #5E5E5E;">**</span><span class="dv" style="color: #AD0000;">3</span></span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>8</code></pre>
</div>
</div>
</section>
<section id="三角関数" class="level2">
<h2 class="anchored" data-anchor-id="三角関数">三角関数</h2>
<section id="sin" class="level3">
<h3 class="anchored" data-anchor-id="sin">sin</h3>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><span class="im" style="color: #00769E;">import</span> numpy <span class="im" style="color: #00769E;">as</span> np</span>
<span id="cb13-2">np.sin(<span class="fl" style="color: #AD0000;">0.2</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>0.19866933079506122</code></pre>
</div>
</div>
</section>
<section id="cos" class="level3">
<h3 class="anchored" data-anchor-id="cos">cos</h3>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1">np.cos(<span class="fl" style="color: #AD0000;">0.2</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>0.9800665778412416</code></pre>
</div>
</div>
</section>
<section id="tan" class="level3">
<h3 class="anchored" data-anchor-id="tan">tan</h3>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1">np.tan(<span class="fl" style="color: #AD0000;">0.2</span>)</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>0.20271003550867248</code></pre>
</div>
</div>
</section>
</section>
<section id="python-version" class="level2">
<h2 class="anchored" data-anchor-id="python-version">Python version</h2>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><span class="im" style="color: #00769E;">import</span> platform</span>
<span id="cb19-2"><span class="co" style="color: #5E5E5E;">"Python version "</span><span class="op" style="color: #5E5E5E;">+</span>platform.python_version()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>'Python version 3.10.7'</code></pre>
</div>
</div>


</section>

 ]]></description>
  <category>Python</category>
  <guid>https://nobukuni-hyakutake.github.io/statistics/posts/calculator/index.html</guid>
  <pubDate>Thu, 26 Jan 2023 15:00:00 GMT</pubDate>
  <media:content url="https://nobukuni-hyakutake.github.io/statistics/posts/calculator/calc.jpeg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>コード入りの投稿サンプル</title>
  <dc:creator>Nobukuni Hyakutake</dc:creator>
  <link>https://nobukuni-hyakutake.github.io/statistics/posts/post-with-code/index.html</link>
  <description><![CDATA[ 




<p>This is a post with executable code.</p>
<section id="r-1" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> R-1</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">library</span>(reticulate)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;">library</span>(knitr)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;">library</span>(tidyverse)</span>
<span id="cb1-4">a<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">runif</span>(<span class="dv" style="color: #AD0000;">3</span>)</span>
<span id="cb1-5">a<span class="ot" style="color: #003B4F;">&lt;-</span><span class="fu" style="color: #4758AB;">round</span>(a,<span class="dv" style="color: #AD0000;">2</span>)</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;">print</span>(a)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.02 0.51 0.00</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">b<span class="ot" style="color: #003B4F;">&lt;-</span><span class="st" style="color: #20794D;">"Hello, "</span></span></code></pre></div>
</div>
</section>
<section id="python" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Python</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="im" style="color: #00769E;">import</span> numpy <span class="im" style="color: #00769E;">as</span> np</span>
<span id="cb4-2">c<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"World!"</span></span>
<span id="cb4-3">d<span class="op" style="color: #5E5E5E;">=</span>r.b<span class="op" style="color: #5E5E5E;">+</span>c</span>
<span id="cb4-4"><span class="bu" style="color: null;">print</span>(d)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello, World!</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1">e<span class="op" style="color: #5E5E5E;">=</span>np.sin(<span class="fl" style="color: #AD0000;">1.5</span>)<span class="op" style="color: #5E5E5E;">*</span><span class="dv" style="color: #AD0000;">12</span></span></code></pre></div>
</div>
</section>
<section id="r-2" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> R-2</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">f<span class="ot" style="color: #003B4F;">&lt;-</span>py<span class="sc" style="color: #5E5E5E;">$</span>e<span class="sc" style="color: #5E5E5E;">/</span><span class="dv" style="color: #AD0000;">3</span></span>
<span id="cb7-2"><span class="fu" style="color: #4758AB;">print</span>(f)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.98998</code></pre>
</div>
</div>
</section>
<section id="変数をループで解析して出す" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> 変数をループで解析して出す</h1>
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">analy_titlle <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"analy_a"</span>, <span class="st" style="color: #20794D;">"analy_b"</span>, <span class="st" style="color: #20794D;">"analy_c"</span>)</span>
<span id="cb9-2"></span>
<span id="cb9-3"><span class="cf" style="color: #003B4F;">for</span>(i <span class="cf" style="color: #003B4F;">in</span> <span class="dv" style="color: #AD0000;">1</span><span class="sc" style="color: #5E5E5E;">:</span><span class="fu" style="color: #4758AB;">length</span>(analy_titlle)){</span>
<span id="cb9-4">  <span class="fu" style="color: #4758AB;">cat</span>(<span class="fu" style="color: #4758AB;">paste</span>(<span class="st" style="color: #20794D;">"</span><span class="sc" style="color: #5E5E5E;">\n</span><span class="st" style="color: #20794D;">##"</span>,  analy_titlle[i], <span class="st" style="color: #20794D;">"</span><span class="sc" style="color: #5E5E5E;">\n</span><span class="st" style="color: #20794D;">"</span>))</span>
<span id="cb9-5">  </span>
<span id="cb9-6">  <span class="fu" style="color: #4758AB;">cat</span>(<span class="fu" style="color: #4758AB;">str_c</span>(<span class="st" style="color: #20794D;">"i= "</span>,i, <span class="st" style="color: #20794D;">"</span><span class="sc" style="color: #5E5E5E;">\n</span><span class="st" style="color: #20794D;">"</span>))</span>
<span id="cb9-7">  </span>
<span id="cb9-8">  <span class="fu" style="color: #4758AB;">hist</span>(<span class="fu" style="color: #4758AB;">rnorm</span>(<span class="dv" style="color: #AD0000;">100</span>,<span class="at" style="color: #657422;">mean =</span> i<span class="sc" style="color: #5E5E5E;">*</span><span class="dv" style="color: #AD0000;">3</span>))</span>
<span id="cb9-9">  </span>
<span id="cb9-10">  <span class="fu" style="color: #4758AB;">cat</span>(<span class="st" style="color: #20794D;">"</span><span class="sc" style="color: #5E5E5E;">\n</span><span class="st" style="color: #20794D;">"</span>)</span>
<span id="cb9-11">}</span></code></pre></div>
<section id="analy_a" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="analy_a"><span class="header-section-number">4.1</span> analy_a</h2>
<p>i= 1 ::: {.cell-output-display} <img src="https://nobukuni-hyakutake.github.io/statistics/posts/post-with-code/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"> :::</p>
</section>
<section id="analy_b" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="analy_b"><span class="header-section-number">4.2</span> analy_b</h2>
<p>i= 2 ::: {.cell-output-display} <img src="https://nobukuni-hyakutake.github.io/statistics/posts/post-with-code/index_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid" width="672"> :::</p>
</section>
<section id="analy_c" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="analy_c"><span class="header-section-number">4.3</span> analy_c</h2>
<p>i= 3 ::: {.cell-output-display} <img src="https://nobukuni-hyakutake.github.io/statistics/posts/post-with-code/index_files/figure-html/unnamed-chunk-4-3.png" class="img-fluid" width="672"> :::</p>
</section>
</section>
<section id="r-version" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> R version</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">R.version.string</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "R version 4.2.2 (2022-10-31)"</code></pre>
</div>
</div>
</section>
<section id="python-version" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Python version</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><span class="im" style="color: #00769E;">import</span> platform</span>
<span id="cb12-2"><span class="co" style="color: #5E5E5E;">"Python version "</span><span class="op" style="color: #5E5E5E;">+</span>platform.python_version()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'Python version 3.10.7'</code></pre>
</div>
</div>
</section>
<section id="citation" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Citation</h1>
<ul>
<li>R Core Team (2022). R: A language and environment for statistical computing. R Foundation for Statistical Computing, Vienna, Austria. URL <a href="https://www.R-project.org/">https://www.R-project.org/</a></li>
</ul>
<iframe width="300" height="30" src="https://nobukuni-hyakutake.github.io/see_you_again.html" title="Quarto Documentation"></iframe>


<!-- -->

</section>

 ]]></description>
  <category>news</category>
  <category>code</category>
  <category>analysis</category>
  <category>R</category>
  <category>Python</category>
  <guid>https://nobukuni-hyakutake.github.io/statistics/posts/post-with-code/index.html</guid>
  <pubDate>Tue, 24 Jan 2023 15:00:00 GMT</pubDate>
  <media:content url="https://nobukuni-hyakutake.github.io/statistics/posts/post-with-code/image.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>ようこそ</title>
  <dc:creator>Nobukuni Hyakutake</dc:creator>
  <link>https://nobukuni-hyakutake.github.io/statistics/posts/welcome/index.html</link>
  <description><![CDATA[ 




<p>This is the first post in a Quarto blog. Welcome!</p>
<p><img src="https://nobukuni-hyakutake.github.io/statistics/posts/welcome/thumbnail.jpg" class="img-fluid"></p>
<p>Since this post doesn’t specify an explicit <code>image</code>, the first image in the post will be used in the listing page of posts.</p>



 ]]></description>
  <category>news</category>
  <guid>https://nobukuni-hyakutake.github.io/statistics/posts/welcome/index.html</guid>
  <pubDate>Thu, 19 Jan 2023 15:00:00 GMT</pubDate>
  <media:content url="https://nobukuni-hyakutake.github.io/statistics/posts/welcome/thumbnail.jpg" medium="image" type="image/jpeg"/>
</item>
</channel>
</rss>
